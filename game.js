// æ¸¸æˆä¸»é€»è¾‘
class ShootingGame {
    constructor() {
        this.canvas = document.getElementById('game-canvas');
        this.ctx = this.canvas.getContext('2d');
        this.crosshair = document.getElementById('crosshair');

        // è®¾ç½®ç”»å¸ƒå¤§å°
        this.resizeCanvas();
        window.addEventListener('resize', () => this.resizeCanvas());

        // æ¸¸æˆçŠ¶æ€
        this.score = 0;
        this.health = 100;
        this.enemies = [];
        this.bullets = [];
        this.particles = [];
        this.gameRunning = false;
        this.gamePaused = false;
        this.animationId = null;

        // éš¾åº¦è®¾ç½®
        this.difficulty = 'normal'; // 'easy', 'normal', 'hard'
        this.difficultyMultiplier = 1.5;
        this.difficultySettings = {
            easy: {
                enemySpeed: 0.15,
                spawnRate: 3500,
                scoreMultiplier: 1,
                maxEnemies: 2
            },
            normal: {
                enemySpeed: 0.3,
                spawnRate: 2500,
                scoreMultiplier: 1.5,
                maxEnemies: 3
            },
            hard: {
                enemySpeed: 0.5,
                spawnRate: 1500,
                scoreMultiplier: 2,
                maxEnemies: 5
            }
        };

        // æ•Œäººç”Ÿæˆé…ç½®
        this.enemySpawnRate = 2500; // åˆå§‹ç”Ÿæˆé—´éš”
        this.lastSpawnTime = 0;
        this.maxEnemies = 3;

        // æ¸¸æˆç»Ÿè®¡æ•°æ®
        this.gamesPlayed = this.loadGameStats().gamesPlayed || 0;
        this.totalScore = this.loadGameStats().totalScore || 0;

        // è¿æ€ç³»ç»Ÿ
        this.comboCount = 0;
        this.comboTimer = 0;
        this.comboTimeout = 3000; // 3ç§’å†…æ²¡æœ‰å‡»æ€ï¼Œè¿æ€é‡ç½®
        this.lastComboLevel = 0;

        // å†å²åè¨€åº“
        this.historicalQuotes = [
            "å¤©ä¸‹å…´äº¡ï¼ŒåŒ¹å¤«æœ‰è´£ï¼",
            "å®ä¸ºæˆ˜æ­»é¬¼ï¼Œä¸åšäº¡å›½å¥´ï¼",
            "èª“æ­»ä¸å½“äº¡å›½å¥´ï¼",
            "ä¿å®¶å«å›½ï¼Œä¹‰ä¸å®¹è¾ï¼",
            "æ‰“å€’æ—¥æœ¬å¸å›½ä¸»ä¹‰ï¼",
            "è¿˜æˆ‘æ²³å±±ï¼Œä¿æˆ‘ä¸­åï¼",
            "æŠ—æˆ˜åˆ°åº•ï¼Œè‡³æ­»ä¸æ¸ï¼",
            "è¡€è‚‰ç­‘é•¿åŸï¼Œä¿å«ä¸­åï¼",
            "ä¸æ€•ç‰ºç‰²ï¼Œè‹±å‹‡æ€æ•Œï¼",
            "å›¢ç»“æŠ—æˆ˜ï¼Œé©±é€æ—¥å¯‡ï¼"
        ];

        // æˆå°±ç³»ç»Ÿ
        this.achievements = {
            firstKill: { unlocked: false, title: "é¦–æ€å»ºåŠŸ", desc: "å‡»æ€ç¬¬ä¸€ä¸ªæ•Œäºº", icon: "ğŸ¯" },
            score50: { unlocked: false, title: "æŠ—æˆ˜æ–°å…µ", desc: "è¾¾åˆ°50åˆ†", icon: "ğŸ–ï¸" },
            score100: { unlocked: false, title: "ä¼˜ç§€æˆ˜å£«", desc: "è¾¾åˆ°100åˆ†", icon: "ğŸ…" },
            score200: { unlocked: false, title: "æŠ—æˆ˜è‹±é›„", desc: "è¾¾åˆ°200åˆ†", icon: "â­" },
            combo3: { unlocked: false, title: "ç²¾å‡†å°„å‡»", desc: "è¿æ€3æ¬¡", icon: "ğŸ¯" },
            combo5: { unlocked: false, title: "ç™¾æ­¥ç©¿æ¨", desc: "è¿æ€5æ¬¡", icon: "ğŸ¹" },
            combo10: { unlocked: false, title: "ç¥æªæ‰‹", desc: "è¿æ€10æ¬¡", icon: "ğŸ”«" },
            survive3min: { unlocked: false, title: "åšå®ˆé˜µåœ°", desc: "å­˜æ´»3åˆ†é’Ÿ", icon: "ğŸ›¡ï¸" },
            survive5min: { unlocked: false, title: "é’¢é“é•¿åŸ", desc: "å­˜æ´»5åˆ†é’Ÿ", icon: "ğŸ°" },
            perfectDefense: { unlocked: false, title: "å®Œç¾é˜²å®ˆ", desc: "é›¶å¤±è¯¯å‡»æ€20ä¸ªæ•Œäºº", icon: "ğŸ’" },
            eventSurvivor: { unlocked: false, title: "å†å²è§è¯è€…", desc: "å®Œæˆä¸€æ¬¡å†å²äº‹ä»¶", icon: "ğŸ“œ" }
        };
        this.perfectKills = 0; // é›¶å¤±è¯¯å‡»æ€è®¡æ•°
        this.surviveTime = 0; // å­˜æ´»æ—¶é—´

        // å†å²äº‹ä»¶ç³»ç»Ÿ
        this.eventActive = false;
        this.eventTimer = 0;
        this.eventDuration = 0;
        this.nextEventTime = 60000; // 60ç§’åç¬¬ä¸€æ¬¡äº‹ä»¶
        this.eventTimeSinceStart = 0;
        this.events = [{
                name: "ç™¾å›¢å¤§æˆ˜",
                desc: "å¤§é‡æ•Œå†›æ¥è¢­ï¼é™æ—¶æ¸…é™¤ï¼",
                duration: 20000,
                effect: () => {
                    this.maxEnemies = 8;
                    this.enemySpawnRate = 1000;
                }
            },
            {
                name: "å¤œè¢­æ•Œè¥",
                desc: "å¤œå¹•é™ä¸´ï¼Œè§†é‡å—é™ï¼",
                duration: 15000,
                effect: () => {
                    this.nightMode = true;
                }
            },
            {
                name: "ä¿å«å®¶å›­",
                desc: "æ•Œå†›åŠ é€Ÿè¿›æ”»ï¼æé«˜è­¦æƒ•ï¼",
                duration: 18000,
                effect: () => {
                    this.enemies.forEach(e => e.speed *= 1.5);
                }
            }
        ];
        this.nightMode = false;

        // æ•Œå†›å›¾åƒï¼ˆé¢„ç•™ï¼Œå¯ä»¥è®¾ç½®å›¾åƒè·¯å¾„ï¼‰
        this.enemyImage = "./images/enemy.png";
        this.loadEnemyImage(); // å°è¯•åŠ è½½æ•Œå†›å›¾åƒ

        // éŸ³é¢‘ç³»ç»Ÿ
        this.sounds = {
            bgm: null, // å½“å‰æ’­æ”¾çš„èƒŒæ™¯éŸ³ä¹
            shoot: null, // å°„å‡»éŸ³æ•ˆ
            hit: null, // å‡»ä¸­éŸ³æ•ˆ
            explosion: null, // çˆ†ç‚¸éŸ³æ•ˆ
            damage: null, // å—ä¼¤éŸ³æ•ˆ
            achievement: null, // æˆå°±è§£é”éŸ³æ•ˆ
            combo: null, // è¿æ€éŸ³æ•ˆ
            gameOver: null, // æ¸¸æˆç»“æŸéŸ³æ•ˆ
            buttonClick: null // æŒ‰é’®ç‚¹å‡»éŸ³æ•ˆ
        };

        // èƒŒæ™¯éŸ³ä¹æ’­æ”¾åˆ—è¡¨
        this.bgmPlaylist = [
            './æ­Œæ›²/1å®¶å›­ä¸å†.mp3',
            './æ­Œæ›²/2é»„æ²³åœ¨å‘å–Š.mp3',
            './æ­Œæ›²/3æ˜Ÿæ˜Ÿä¹‹ç«.mp3',
            './æ­Œæ›²/4é•¿åŸä¸‹çš„èª“è¨€.mp3',
            './æ­Œæ›²/5å‘ç€å…‰è¾‰çš„å½¼å²¸.mp3',
            './æ­Œæ›²/6ç™¾å¹´å›å“.mp3'
        ];
        this.bgmTitles = [
            'å®¶å›­ä¸å†',
            'é»„æ²³åœ¨å‘å–Š',
            'æ˜Ÿæ˜Ÿä¹‹ç«',
            'é•¿åŸä¸‹çš„èª“è¨€',
            'å‘ç€å…‰è¾‰çš„å½¼å²¸',
            'ç™¾å¹´å›å“'
        ];
        this.currentBgmIndex = 0; // å½“å‰æ’­æ”¾çš„éŸ³ä¹ç´¢å¼•

        this.soundEnabled = true; // éŸ³æ•ˆå¼€å…³
        this.musicEnabled = true; // éŸ³ä¹å¼€å…³
        this.initAudio(); // åˆå§‹åŒ–éŸ³é¢‘

        // é¢˜åº“
        this.quizQuestions = [
            // åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ç›¸å…³é¢˜ç›® (1-50é¢˜)
            {
                question: "ä¸­å›½äººæ°‘æŠ—æ—¥æˆ˜äº‰èƒœåˆ©çš„æ ¹æœ¬åŸå› æ˜¯ï¼Ÿ",
                options: ["å›½é™…æ´åŠ©", "å…¨æ°‘æ—å›¢ç»“æŠ—æˆ˜", "æ­¦å™¨è£…å¤‡å…ˆè¿›", "åœ°ç†ä¼˜åŠ¿"],
                correct: 1
            },
            {
                question: "æŠ—æ—¥æˆ˜äº‰ä¸­ä½“ç°çš„æ°‘æ—ç²¾ç¥æ ¸å¿ƒæ˜¯ï¼Ÿ",
                options: ["ä¸ªäººè‹±é›„ä¸»ä¹‰", "é›†ä½“ä¸»ä¹‰", "çˆ±å›½ä¸»ä¹‰", "å›½é™…ä¸»ä¹‰"],
                correct: 2
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥çš„æœ€é‡è¦ä½“ç°æ˜¯ï¼Ÿ",
                options: ["å†›äº‹èƒœåˆ©", "æ°‘æ—è§‰é†’ä¸å›¢ç»“", "é¢†åœŸæ”¶å¤", "ç»æµå‘å±•"],
                correct: 1
            },
            {
                question: "æŠ—æ—¥æˆ˜äº‰ç²¾ç¥ä¸ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„å…³ç³»æ˜¯ï¼Ÿ",
                options: ["ç›¸äº’ç‹¬ç«‹", "å†…åœ¨ç»Ÿä¸€", "ç›¸äº’çŸ›ç›¾", "äº’ä¸ç›¸å…³"],
                correct: 1
            },
            {
                question: "æŠ—æˆ˜ç²¾ç¥ä¸ºå®ç°æ°‘æ—å¤å…´æä¾›çš„æœ€é‡è¦èµ„æºæ˜¯ï¼Ÿ",
                options: ["ç‰©è´¨è´¢å¯Œ", "ç²¾ç¥è´¢å¯Œ", "å›½é™…åœ°ä½", "å†›äº‹åŠ›é‡"],
                correct: 1
            },
            {
                question: "ä¸­åæ°‘æ—åœ¨åæ³•è¥¿æ–¯æˆ˜äº‰ä¸­å±•ç°çš„æœ€å®è´µå“è´¨æ˜¯ï¼Ÿ",
                options: ["æŠ€æœ¯å…ˆè¿›", "èµ„æºä¸°å¯Œ", "ä¸å±ˆä¸æŒ ", "åœ°ç†ä¼˜åŠ¿"],
                correct: 2
            },
            {
                question: "æŠ—æ—¥æˆ˜äº‰èƒœåˆ©å¯¹æ°‘æ—å¤å…´çš„ç›´æ¥æ¨åŠ¨ä½œç”¨æ˜¯ï¼Ÿ",
                options: ["ç»æµå¿«é€Ÿå‘å±•", "å›½é™…åœ°ä½æå‡", "å†›äº‹åŠ›é‡å¢å¼º", "æ–‡åŒ–ç¹è£"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥çš„æ—¶ä»£ä»·å€¼åœ¨äºï¼Ÿ",
                options: ["å†å²çºªå¿µ", "ç°å®æŒ‡å¯¼", "æœªæ¥è§„åˆ’", "å›½é™…äº¤æµ"],
                correct: 1
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦ç»§æ‰¿å’Œå‘æ‰¬çš„æŠ—æˆ˜ç²¾ç¥å“è´¨æ˜¯ï¼Ÿ",
                options: ["å°é—­ä¿å®ˆ", "å¼€æ”¾åŒ…å®¹", "å›¢ç»“å¥‹æ–—", "ä¸ªäººä¸»ä¹‰"],
                correct: 2
            },
            {
                question: "æŠ—æ—¥æˆ˜äº‰ä¸­å½¢æˆçš„æ°‘æ—å‡èšåŠ›å¯¹å½“ä»£çš„å¯ç¤ºæ˜¯ï¼Ÿ",
                options: ["å„è‡ªä¸ºæ”¿", "å›¢ç»“åä½œ", "ç«äº‰å¯¹æŠ—", "å­¤ç«‹å‘å±•"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ä¸ºä¸­åæ°‘æ—å¤å…´å¥ å®šçš„åŸºç¡€æ˜¯ï¼Ÿ",
                options: ["å†›äº‹åŸºç¡€", "ç²¾ç¥åŸºç¡€", "ç»æµåŸºç¡€", "æ”¿æ²»åŸºç¡€"],
                correct: 1
            },
            {
                question: "æŠ—æˆ˜ç²¾ç¥åœ¨æ–°æ—¶ä»£çš„ä»·å€¼ä¸»è¦ä½“ç°åœ¨ï¼Ÿ",
                options: ["æ€€æ—§æƒ…æ„Ÿ", "ç²¾ç¥åŠ¨åŠ›", "å†å²ç ”ç©¶", "æ–‡å­¦åˆ›ä½œ"],
                correct: 1
            },
            {
                question: "æ°‘æ—å¤å…´è¿›ç¨‹ä¸­éœ€è¦æŠ—æˆ˜ç²¾ç¥æä¾›çš„æ ¸å¿ƒæ”¯æ’‘æ˜¯ï¼Ÿ",
                options: ["èµ„é‡‘æ”¯æŒ", "æŠ€æœ¯æ”¯æ’‘", "ç²¾ç¥åŠ›é‡", "äººæ‰ä¿éšœ"],
                correct: 2
            },
            {
                question: "æŠ—æ—¥æˆ˜äº‰èƒœåˆ©å¯¹æ°‘æ—è‡ªä¿¡å¿ƒçš„æå‡ä½œç”¨æ˜¯ï¼Ÿ",
                options: ["çŸ­æœŸæ•ˆåº”", "é•¿æœŸå½±å“", "å±€éƒ¨å½±å“", "æ¶ˆæä½œç”¨"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥çš„æœ¬è´¨ç‰¹å¾æ˜¯ï¼Ÿ",
                options: ["æ’å¤–ä¸»ä¹‰", "æ°‘æ—ä¸»ä¹‰", "çˆ±å›½ä¸»ä¹‰", "å›½é™…ä¸»ä¹‰"],
                correct: 2
            },
            {
                question: "æŠ—æˆ˜ç²¾ç¥ä¸å®ç°ä¸­å›½æ¢¦çš„å†…åœ¨è”ç³»æ˜¯ï¼Ÿ",
                options: ["å†å²ä¼ æ‰¿", "ç°å®éœ€è¦", "æœªæ¥å±•æœ›", "å›½é™…å€Ÿé‰´"],
                correct: 0
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦æŠ—æˆ˜ç²¾ç¥æä¾›çš„æœ€é‡è¦å“è´¨æ˜¯ï¼Ÿ",
                options: ["åˆ›æ–°ç²¾ç¥", "æ–—äº‰ç²¾ç¥", "åˆä½œç²¾ç¥", "åŒ…å®¹ç²¾ç¥"],
                correct: 1
            },
            {
                question: "æŠ—æ—¥æˆ˜äº‰èƒœåˆ©å¯¹æ°‘æ—ç²¾ç¥çš„é‡å¡‘ä½œç”¨æ˜¯ï¼Ÿ",
                options: ["æ¶ˆæå½±å“", "ç§¯æå½±å“", "æ— æ˜æ˜¾å½±å“", "è´Ÿé¢å½±å“"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥åœ¨æ–°æ—¶ä»£çš„ä¼ æ‰¿æ–¹å¼æ˜¯ï¼Ÿ",
                options: ["å½¢å¼ä¸»ä¹‰", "å®è´¨ä¼ æ‰¿", "è¡¨é¢æ–‡ç« ", "å£å¤´å®£ä¼ "],
                correct: 1
            },
            {
                question: "æŠ—æˆ˜ç²¾ç¥å¯¹æ°‘æ—å¤å…´çš„é•¿è¿œæ„ä¹‰åœ¨äºï¼Ÿ",
                options: ["çŸ­æœŸæ¿€åŠ±", "æŒç»­åŠ¨åŠ›", "é˜¶æ®µä½œç”¨", "å±€éƒ¨å½±å“"],
                correct: 1
            },
            {
                question: "æŠ—æ—¥æˆ˜äº‰ä¸­ä½“ç°çš„æ°‘æ—ç²¾ç¥å¯¹å½“ä»£çš„æŒ‡å¯¼æ„ä¹‰æ˜¯ï¼Ÿ",
                options: ["å†å²ä»·å€¼", "ç°å®æ„ä¹‰", "æœªæ¥å¯ç¤º", "å›½é™…å½±å“"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„é€»è¾‘èµ·ç‚¹æ˜¯ï¼Ÿ",
                options: ["ç»æµå»ºè®¾", "æ”¿æ²»æ”¹é©", "ç²¾ç¥è§‰é†’", "æ–‡åŒ–å‘å±•"],
                correct: 2
            },
            {
                question: "æŠ—æˆ˜ç²¾ç¥ä¸ºæ°‘æ—å¤å…´æä¾›çš„ç²¾ç¥æ”¯æ’‘ä¸»è¦ä½“ç°åœ¨ï¼Ÿ",
                options: ["ç‰©è´¨å±‚é¢", "ç²¾ç¥å±‚é¢", "åˆ¶åº¦å±‚é¢", "æŠ€æœ¯å±‚é¢"],
                correct: 1
            },
            {
                question: "æ°‘æ—å¤å…´è¿›ç¨‹ä¸­å¯¹æŠ—æˆ˜ç²¾ç¥çš„ç»§æ‰¿é‡ç‚¹æ˜¯ï¼Ÿ",
                options: ["å½¢å¼æ¨¡ä»¿", "ç²¾ç¥å†…æ ¸", "è¡¨é¢æ–‡ç« ", "å£å¤´ä¼ æ‰¿"],
                correct: 1
            },
            {
                question: "æŠ—æ—¥æˆ˜äº‰èƒœåˆ©å¯¹æ°‘æ—å¤å…´çš„ç²¾ç¥è´¢å¯Œæ˜¯ï¼Ÿ",
                options: ["ç‰©è´¨è´¢å¯Œ", "ç²¾ç¥è´¢å¯Œ", "æŠ€æœ¯è´¢å¯Œ", "äººæ‰è´¢å¯Œ"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥çš„æ—¶ä»£ç‰¹å¾æ˜¯ï¼Ÿ",
                options: ["å°é—­æ€§", "å¼€æ”¾æ€§", "ä¿å®ˆæ€§", "è½åæ€§"],
                correct: 1
            },
            {
                question: "æŠ—æˆ˜ç²¾ç¥åœ¨æ°‘æ—å¤å…´ä¸­çš„åœ°ä½æ˜¯ï¼Ÿ",
                options: ["è¾…åŠ©ä½œç”¨", "æ ¸å¿ƒä½œç”¨", "æ¬¡è¦ä½œç”¨", "æ— å…³ç´§è¦"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥å¯¹æ°‘æ—å¤å…´çš„æ¨åŠ¨ä½œç”¨æ˜¯ï¼Ÿ",
                options: ["é˜»ç¢ä½œç”¨", "ä¿ƒè¿›ä½œç”¨", "æ— ä½œç”¨", "æ¶ˆæä½œç”¨"],
                correct: 1
            },
            {
                question: "æŠ—æˆ˜ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„å…±åŒç›®æ ‡æ˜¯ï¼Ÿ",
                options: ["ç»æµå‘å±•", "å›½å®¶å¯Œå¼º", "æ°‘æ—æŒ¯å…´", "äººæ°‘å¹¸ç¦"],
                correct: 2
            },
            {
                question: "æŠ—æ—¥æˆ˜äº‰ä¸­ä½“ç°çš„æ°‘æ—ç²¾ç¥å¯¹æ°‘æ—å¤å…´çš„å¯ç¤ºæ˜¯ï¼Ÿ",
                options: ["ä¸ªäººå¥‹æ–—", "é›†ä½“å¥‹æ–—", "ä¾é å¤–æ´", "æ¶ˆæç­‰å¾…"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥åœ¨æ°‘æ—å¤å…´ä¸­çš„ä»·å€¼æ˜¯ï¼Ÿ",
                options: ["å†å²ä»·å€¼", "ç°å®ä»·å€¼", "æœªæ¥ä»·å€¼", "æ°¸æ’ä»·å€¼"],
                correct: 1
            },
            {
                question: "æŠ—æˆ˜ç²¾ç¥ä¸ºæ°‘æ—å¤å…´æä¾›çš„æ ¸å¿ƒåŠ¨åŠ›æ˜¯ï¼Ÿ",
                options: ["ç‰©è´¨åŠ¨åŠ›", "ç²¾ç¥åŠ¨åŠ›", "æŠ€æœ¯åŠ¨åŠ›", "äººæ‰åŠ¨åŠ›"],
                correct: 1
            },
            {
                question: "æŠ—æ—¥æˆ˜äº‰èƒœåˆ©å¯¹æ°‘æ—å¤å…´çš„ç²¾ç¥æ”¯æ’‘æ˜¯ï¼Ÿ",
                options: ["æš‚æ—¶çš„", "æŒä¹…çš„", "å±€éƒ¨çš„", "è¡¨é¢çš„"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„å†…åœ¨ç»Ÿä¸€æ€§ä½“ç°åœ¨ï¼Ÿ",
                options: ["ç›®æ ‡ä¸€è‡´", "è·¯å¾„ä¸€è‡´", "æ–¹æ³•ä¸€è‡´", "ç»“æœä¸€è‡´"],
                correct: 0
            },
            {
                question: "æŠ—æˆ˜ç²¾ç¥åœ¨æ–°æ—¶ä»£çš„ä»·å€¼è½¬æ¢æ˜¯ï¼Ÿ",
                options: ["å†å²è®°å¿†", "ç°å®åŠ¨åŠ›", "æœªæ¥æ†§æ†¬", "å›½é™…äº¤æµ"],
                correct: 1
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦æŠ—æˆ˜ç²¾ç¥æä¾›çš„æ ¸å¿ƒè¦ç´ æ˜¯ï¼Ÿ",
                options: ["èµ„é‡‘", "æŠ€æœ¯", "ç²¾ç¥", "äººæ‰"],
                correct: 2
            },
            {
                question: "æŠ—æ—¥æˆ˜äº‰èƒœåˆ©å¯¹æ°‘æ—å¤å…´çš„é•¿è¿œå½±å“æ˜¯ï¼Ÿ",
                options: ["æ¶ˆæå½±å“", "ç§¯æå½±å“", "æ— å½±å“", "è´Ÿé¢å½±å“"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥çš„æ—¶ä»£ä¼ æ‰¿æ˜¯ï¼Ÿ",
                options: ["è¢«åŠ¨ä¼ æ‰¿", "ä¸»åŠ¨ä¼ æ‰¿", "è‡ªç„¶ä¼ æ‰¿", "å¼ºåˆ¶ä¼ æ‰¿"],
                correct: 1
            },
            {
                question: "æŠ—æˆ˜ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„é€»è¾‘å…³ç³»æ˜¯ï¼Ÿ",
                options: ["å¹¶åˆ—å…³ç³»", "å› æœå…³ç³»", "åŒ…å«å…³ç³»", "äº¤å‰å…³ç³»"],
                correct: 1
            },
            {
                question: "æŠ—æ—¥æˆ˜äº‰èƒœåˆ©ç²¾ç¥å¯¹æ°‘æ—å¤å…´çš„ç°å®æ„ä¹‰æ˜¯ï¼Ÿ",
                options: ["å†å²æ„ä¹‰", "ç°å®æ„ä¹‰", "æœªæ¥æ„ä¹‰", "å›½é™…æ„ä¹‰"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥åœ¨æ°‘æ—å¤å…´ä¸­çš„ä½œç”¨æœºåˆ¶æ˜¯ï¼Ÿ",
                options: ["ç›´æ¥ä½œç”¨", "é—´æ¥ä½œç”¨", "å‚¬åŒ–ä½œç”¨", "åŸºç¡€ä½œç”¨"],
                correct: 0
            },
            {
                question: "æŠ—æˆ˜ç²¾ç¥ä¸ºæ°‘æ—å¤å…´æä¾›çš„ç²¾ç¥èµ„æºæ˜¯ï¼Ÿ",
                options: ["æœ‰é™çš„", "ä¸°å¯Œçš„", "å•ä¸€çš„", "è´«ä¹çš„"],
                correct: 1
            },
            {
                question: "æŠ—æ—¥æˆ˜äº‰èƒœåˆ©å¯¹æ°‘æ—å¤å…´çš„ç²¾ç¥æ¿€åŠ±æ˜¯ï¼Ÿ",
                options: ["çŸ­æœŸçš„", "é•¿æœŸçš„", "é˜¶æ®µæ€§çš„", "å±€éƒ¨çš„"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„ä»·å€¼å…±è¯†æ˜¯ï¼Ÿ",
                options: ["åˆ†æ­§", "ç»Ÿä¸€", "å¯¹ç«‹", "å†²çª"],
                correct: 1
            },
            {
                question: "æŠ—æˆ˜ç²¾ç¥åœ¨æ°‘æ—å¤å…´è¿›ç¨‹ä¸­çš„åŠŸèƒ½å®šä½æ˜¯ï¼Ÿ",
                options: ["è£…é¥°ä½œç”¨", "æ”¯æ’‘ä½œç”¨", "è¾…åŠ©ä½œç”¨", "æ¬¡è¦ä½œç”¨"],
                correct: 1
            },
            {
                question: "æŠ—æ—¥æˆ˜äº‰èƒœåˆ©ç²¾ç¥å¯¹æ°‘æ—å¤å…´çš„å¼•é¢†ä½œç”¨æ˜¯ï¼Ÿ",
                options: ["æ–¹å‘å¼•é¢†", "æ–¹æ³•å¼•é¢†", "è·¯å¾„å¼•é¢†", "ç›®æ ‡å¼•é¢†"],
                correct: 0
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„ç›®æ ‡ä¸€è‡´æ€§ä½“ç°åœ¨ï¼Ÿ",
                options: ["ç»æµå‘å±•", "ç¤¾ä¼šç¨³å®š", "æ°‘æ—æŒ¯å…´", "äººæ°‘å¹¸ç¦"],
                correct: 2
            },
            {
                question: "æŠ—æˆ˜ç²¾ç¥ä¸ºæ°‘æ—å¤å…´æä¾›çš„æ ¸å¿ƒä»·å€¼æ˜¯ï¼Ÿ",
                options: ["ç‰©è´¨ä»·å€¼", "ç²¾ç¥ä»·å€¼", "æŠ€æœ¯ä»·å€¼", "äººæ‰ä»·å€¼"],
                correct: 1
            },
            {
                question: "æŠ—æ—¥æˆ˜äº‰èƒœåˆ©å¯¹æ°‘æ—å¤å…´çš„ç²¾ç¥è´¢å¯Œä¼ æ‰¿æ˜¯ï¼Ÿ",
                options: ["æ–­ç»­çš„", "æŒç»­çš„", "é—´æ–­çš„", "ç»ˆæ­¢çš„"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„äº’åŠ¨å…³ç³»æ˜¯ï¼Ÿ",
                options: ["å•å‘ä½œç”¨", "åŒå‘äº’åŠ¨", "ç›¸äº’ç‹¬ç«‹", "ç›¸äº’æ’æ–¥"],
                correct: 1
            },

            // æ°‘æ—å¤å…´ç›¸å…³é¢˜ç›® (51-100é¢˜)
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„ä¸­å›½æ¢¦æ­£å¼æå‡ºçš„æ—¶é—´æ˜¯ï¼Ÿ",
                options: ["2010å¹´", "2012å¹´", "2013å¹´", "2015å¹´"],
                correct: 1
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„ä¸­å›½æ¢¦çš„æ ¸å¿ƒç›®æ ‡æ˜¯ï¼Ÿ",
                options: ["ç»æµæ€»é‡ç¬¬ä¸€", "å›½å®¶å¯Œå¼ºã€æ°‘æ—æŒ¯å…´ã€äººæ°‘å¹¸ç¦", "å†›äº‹åŠ›é‡å¼ºå¤§", "æ–‡åŒ–å½±å“åŠ›æå‡"],
                correct: 1
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„æ ¹æœ¬ä¿è¯æ˜¯ï¼Ÿ",
                options: ["ç»æµå‘å±•", "æ”¿æ²»ç¨³å®š", "ä¸­å›½å…±äº§å…šçš„é¢†å¯¼", "ç¤¾ä¼šç¨³å®š"],
                correct: 2
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„æ ¹æœ¬é€”å¾„æ˜¯ï¼Ÿ",
                options: ["æ”¹é©å¼€æ”¾", "ä¾æ³•æ²»å›½", "ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰é“è·¯", "ä»ä¸¥æ²»å…š"],
                correct: 2
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„ä¸­å›½æ¢¦çš„åŸºæœ¬å†…æ¶µä¸åŒ…æ‹¬ï¼Ÿ",
                options: ["å›½å®¶å¯Œå¼º", "æ°‘æ—æŒ¯å…´", "äººæ°‘å¹¸ç¦", "ç§°éœ¸ä¸–ç•Œ"],
                correct: 3
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„å¼ºå¤§åŠ¨åŠ›æ˜¯ï¼Ÿ",
                options: ["ç§‘æŠ€åˆ›æ–°", "æ”¹é©å¼€æ”¾", "æ–‡åŒ–ç¹è£", "æ•™è‚²å‘å±•"],
                correct: 1
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„ä¸­å›½æ¢¦çš„æœ¬è´¨å±æ€§æ˜¯ï¼Ÿ",
                options: ["ä¸ªäººæ¢¦æƒ³", "å›½å®¶æ¢¦æƒ³", "äººæ°‘æ¢¦æƒ³", "æ°‘æ—æ¢¦æƒ³"],
                correct: 2
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„é‡è¦åŸºçŸ³æ˜¯ï¼Ÿ",
                options: ["ç»æµå»ºè®¾", "æ”¿æ²»å»ºè®¾", "æ–‡åŒ–å»ºè®¾", "ç¤¾ä¼šå’Œè°"],
                correct: 3
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„ä»·å€¼è¿½æ±‚æ˜¯ï¼Ÿ",
                options: ["ä¸ªäººæˆåŠŸ", "é›†ä½“åˆ©ç›Š", "äººæ°‘å¹¸ç¦", "å›½å®¶å¼ºå¤§"],
                correct: 2
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„æ ¹æœ¬ç«‹åœºæ˜¯ï¼Ÿ",
                options: ["ä»¥ç»æµå»ºè®¾ä¸ºä¸­å¿ƒ", "ä»¥äººæ°‘ä¸ºä¸­å¿ƒ", "ä»¥æ”¿æ²»å»ºè®¾ä¸ºä¸­å¿ƒ", "ä»¥æ–‡åŒ–å»ºè®¾ä¸ºä¸­å¿ƒ"],
                correct: 1
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„å®ç°è·¯å¾„æ˜¯ï¼Ÿ",
                options: ["è¥¿æ–¹æ¨¡å¼", "ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰", "ä¼ ç»Ÿæ¨¡å¼", "æ··åˆæ¨¡å¼"],
                correct: 1
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„é‡è¦ä¿éšœæ˜¯ï¼Ÿ",
                options: ["ç»æµå‘å±•", "æ”¿æ²»ç¨³å®š", "ä¾æ³•æ²»å›½", "æ–‡åŒ–ç¹è£"],
                correct: 2
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„å®è·µè¦æ±‚æ˜¯ï¼Ÿ",
                options: ["ç©ºè°ˆè¯¯å›½", "å®å¹²å…´é‚¦", "ç†è®ºè”ç³»å®é™…", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„åŠ›é‡æºæ³‰æ˜¯ï¼Ÿ",
                options: ["äººæ°‘ç¾¤ä¼—", "é¢†å¯¼å¹²éƒ¨", "çŸ¥è¯†åˆ†å­", "ä¼ä¸šå®¶"],
                correct: 0
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„å›½é™…æ„ä¹‰æ˜¯ï¼Ÿ",
                options: ["ç§°éœ¸ä¸–ç•Œ", "å’Œè°å…±å¤„", "æ„å»ºäººç±»å‘½è¿å…±åŒä½“", "æ‰©å¼ åŠ¿åŠ›"],
                correct: 2
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„åŸºæœ¬æ–¹ç•¥æ˜¯ï¼Ÿ",
                options: ["å››ä¸ªå…¨é¢", "äº”ä½ä¸€ä½“", "å››ä¸ªè‡ªä¿¡", "ä¸¤ä¸ªç»´æŠ¤"],
                correct: 1
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„æ ¹æœ¬ä»»åŠ¡æ˜¯ï¼Ÿ",
                options: ["ç»æµå‘å±•", "ç¤¾ä¼šè¿›æ­¥", "äººçš„å…¨é¢å‘å±•", "ç§‘æŠ€è¿›æ­¥"],
                correct: 2
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„é‡è¦æ”¯æ’‘æ˜¯ï¼Ÿ",
                options: ["ç§‘æŠ€åˆ›æ–°", "æ•™è‚²å‘å±•", "æ–‡åŒ–è‡ªä¿¡", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„ä»·å€¼ç›®æ ‡æ˜¯ï¼Ÿ",
                options: ["å¯Œå›½å¼ºå…µ", "äººæ°‘è‡³ä¸Š", "å…¨é¢å‘å±•", "å’Œè°ç¤¾ä¼š"],
                correct: 2
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„æ ¹æœ¬æ–¹æ³•æ˜¯ï¼Ÿ",
                options: ["ç»Ÿç­¹å…¼é¡¾", "é‡ç‚¹çªç ´", "å…¨é¢å‘å±•", "åè°ƒå‘å±•"],
                correct: 0
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„æ—¶ä»£ç‰¹å¾æ˜¯ï¼Ÿ",
                options: ["å°é—­æ€§", "å¼€æ”¾æ€§", "ä¿å®ˆæ€§", "è½åæ€§"],
                correct: 1
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„é‡è¦åŸºç¡€æ˜¯ï¼Ÿ",
                options: ["ç»æµåŸºç¡€", "æ–‡åŒ–åŸºç¡€", "åˆ¶åº¦åŸºç¡€", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„å®ç°æ¡ä»¶æ˜¯ï¼Ÿ",
                options: ["ç¨³å®šç¯å¢ƒ", "å‘å±•æœºé‡", "äººæ°‘æ”¯æŒ", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„æ ¹æœ¬è¦æ±‚æ˜¯ï¼Ÿ",
                options: ["åšæŒå…šçš„é¢†å¯¼", "åšæŒç¤¾ä¼šä¸»ä¹‰é“è·¯", "åšæŒæ”¹é©å¼€æ”¾", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„å®è·µç‰¹è‰²æ˜¯ï¼Ÿ",
                options: ["ç†è®ºæ€§", "å®è·µæ€§", "ç†æƒ³æ€§", "ç©ºæƒ³æ€§"],
                correct: 1
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„é‡è¦åŸåˆ™æ˜¯ï¼Ÿ",
                options: ["ç‹¬ç«‹è‡ªä¸»", "è‡ªåŠ›æ›´ç”Ÿ", "å¯¹å¤–å¼€æ”¾", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„æ°‘æ—ç‰¹è‰²æ˜¯ï¼Ÿ",
                options: ["æ™®ä¸–æ€§", "æ°‘æ—æ€§", "å›½é™…æ€§", "å…¨çƒæ€§"],
                correct: 1
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„æ ¹æœ¬ä¿éšœæ˜¯ï¼Ÿ",
                options: ["åˆ¶åº¦ä¿éšœ", "ç»„ç»‡ä¿éšœ", "æ”¿æ²»ä¿éšœ", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„æ—¶ä»£ä»·å€¼æ˜¯ï¼Ÿ",
                options: ["å†å²æ„ä¹‰", "ç°å®æ„ä¹‰", "æœªæ¥æ„ä¹‰", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„é‡è¦é€”å¾„æ˜¯ï¼Ÿ",
                options: ["ç»æµå‘å±•", "ç¤¾ä¼šè¿›æ­¥", "æ–‡åŒ–ç¹è£", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„ä¸–ç•Œæ„ä¹‰æ˜¯ï¼Ÿ",
                options: ["ä¸­å›½å‘å±•", "ä¸–ç•Œå’Œå¹³", "äººç±»è¿›æ­¥", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„æ ¹æœ¬åŠ¨åŠ›æ˜¯ï¼Ÿ",
                options: ["æ”¹é©åˆ›æ–°", "ç§‘æŠ€è¿›æ­¥", "æ–‡åŒ–å‘å±•", "æ•™è‚²æå‡"],
                correct: 0
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„å®ç°æœºåˆ¶æ˜¯ï¼Ÿ",
                options: ["æ”¿åºœä¸»å¯¼", "å¸‚åœºè°ƒèŠ‚", "ç¤¾ä¼šå‚ä¸", "ååŒæ¨è¿›"],
                correct: 3
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„é‡è¦è½½ä½“æ˜¯ï¼Ÿ",
                options: ["ç»æµå‘å±•", "æ–‡åŒ–å»ºè®¾", "ç¤¾ä¼šå»ºè®¾", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„å®ç°è¿‡ç¨‹æ˜¯ï¼Ÿ",
                options: ["ä¸€è¹´è€Œå°±", "å¾ªåºæ¸è¿›", "è‡ªç„¶è€Œç„¶", "å¤–éƒ¨æ¨åŠ¨"],
                correct: 1
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„æ ¹æœ¬ä¾é æ˜¯ï¼Ÿ",
                options: ["äººæ°‘ç¾¤ä¼—", "å…šçš„é¢†å¯¼", "æ”¿åºœä¸»å¯¼", "ä¸“å®¶æŒ‡å¯¼"],
                correct: 0
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„å®ç°æ ‡å‡†æ˜¯ï¼Ÿ",
                options: ["ç»æµæŒ‡æ ‡", "ç¤¾ä¼šæŒ‡æ ‡", "äººæ°‘æ»¡æ„", "å›½é™…è®¤å¯"],
                correct: 2
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„é‡è¦æ¡ä»¶æ˜¯ï¼Ÿ",
                options: ["å›½å†…ç¯å¢ƒ", "å›½é™…ç¯å¢ƒ", "å†å²æœºé‡", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„å®ç°éš¾ç‚¹æ˜¯ï¼Ÿ",
                options: ["èµ„æºçº¦æŸ", "ç¯å¢ƒå‹åŠ›", "å‘å±•ä¸å¹³è¡¡", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„æ ¹æœ¬ç­–ç•¥æ˜¯ï¼Ÿ",
                options: ["ç»Ÿç­¹å‘å±•", "åè°ƒå‘å±•", "å¯æŒç»­å‘å±•", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„å®ç°ä¿éšœæ˜¯ï¼Ÿ",
                options: ["åˆ¶åº¦ä¿éšœ", "æ³•æ²»ä¿éšœ", "ç»„ç»‡ä¿éšœ", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„é‡è¦æ”¯æ’‘æ˜¯ï¼Ÿ",
                options: ["ç§‘æŠ€åˆ›æ–°", "äººæ‰åŸ¹å…»", "æ–‡åŒ–ç¹è£", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„å®ç°è·¯å¾„æ˜¯ï¼Ÿ",
                options: ["ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰é“è·¯", "æ”¹é©å¼€æ”¾", "ä¾æ³•æ²»å›½", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„æ ¹æœ¬ä¿è¯æ˜¯ï¼Ÿ",
                options: ["å…šçš„é¢†å¯¼", "äººæ°‘å½“å®¶ä½œä¸»", "ä¾æ³•æ²»å›½", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„å®ç°è¦æ±‚æ˜¯ï¼Ÿ",
                options: ["å…¨é¢æ€§", "åè°ƒæ€§", "å¯æŒç»­æ€§", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„é‡è¦åŸºç¡€æ˜¯ï¼Ÿ",
                options: ["ç‰©è´¨åŸºç¡€", "ç²¾ç¥åŸºç¡€", "åˆ¶åº¦åŸºç¡€", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„å®ç°ç›®æ ‡æ˜¯ï¼Ÿ",
                options: ["å…¨é¢å»ºæˆå°åº·ç¤¾ä¼š", "å»ºæˆç°ä»£åŒ–å¼ºå›½", "å®ç°å…±åŒå¯Œè£•", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„æ ¹æœ¬ä»»åŠ¡æ˜¯ï¼Ÿ",
                options: ["è§£æ”¾ç”Ÿäº§åŠ›", "å‘å±•ç”Ÿäº§åŠ›", "å®ç°äººçš„å…¨é¢å‘å±•", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„å®ç°è¿‡ç¨‹æ˜¯ï¼Ÿ",
                options: ["é•¿æœŸæ€§", "è‰°å·¨æ€§", "å¤æ‚æ€§", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "å®ç°ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´çš„é‡è¦æ”¯æ’‘æ˜¯ï¼Ÿ",
                options: ["ç»æµå»ºè®¾", "æ”¿æ²»å»ºè®¾", "æ–‡åŒ–å»ºè®¾", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "ä¸­åæ°‘æ—ä¼Ÿå¤§å¤å…´ä¸­å›½æ¢¦çš„å®ç°ä¿éšœæ˜¯ï¼Ÿ",
                options: ["åˆ¶åº¦ä¿éšœ", "æ³•æ²»ä¿éšœ", "å®‰å…¨ä¿éšœ", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },

            // åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´å†…åœ¨é€»è¾‘ç›¸å…³é¢˜ç›® (101-150é¢˜)
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„å†…åœ¨é€»è¾‘èµ·ç‚¹æ˜¯ï¼Ÿ",
                options: ["å†å²ä¼ æ‰¿", "ç°å®éœ€è¦", "æœªæ¥å‘å±•", "å›½é™…ç¯å¢ƒ"],
                correct: 0
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥å¯¹æ°‘æ—å¤å…´çš„æ¨åŠ¨ä½œç”¨ä¸»è¦ä½“ç°åœ¨ï¼Ÿ",
                options: ["ç‰©è´¨å±‚é¢", "ç²¾ç¥å±‚é¢", "åˆ¶åº¦å±‚é¢", "æŠ€æœ¯å±‚é¢"],
                correct: 1
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦ç»§æ‰¿å’Œå‘æ‰¬åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥çš„ï¼Ÿ",
                options: ["å½¢å¼", "å†…å®¹", "å®è´¨", "è¡¨é¢"],
                correct: 2
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„å…±åŒä»·å€¼è¿½æ±‚æ˜¯ï¼Ÿ",
                options: ["å›½å®¶å¯Œå¼º", "æ°‘æ—æŒ¯å…´", "äººæ°‘å¹¸ç¦", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸ºæ°‘æ—å¤å…´æä¾›çš„æ ¸å¿ƒèµ„æºæ˜¯ï¼Ÿ",
                options: ["ç‰©è´¨è´¢å¯Œ", "ç²¾ç¥è´¢å¯Œ", "æŠ€æœ¯è´¢å¯Œ", "äººæ‰è´¢å¯Œ"],
                correct: 1
            },
            {
                question: "æ°‘æ—å¤å…´è¿›ç¨‹ä¸­å¯¹æŠ—æˆ˜ç²¾ç¥çš„ç»§æ‰¿é‡ç‚¹åœ¨äºï¼Ÿ",
                options: ["å¤–åœ¨å½¢å¼", "å†…åœ¨å®è´¨", "è¡¨é¢æ–‡ç« ", "å£å¤´ä¼ æ‰¿"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´ç›®æ ‡çš„ä¸€è‡´æ€§ä½“ç°åœ¨ï¼Ÿ",
                options: ["ç»æµå‘å±•", "ç¤¾ä¼šç¨³å®š", "æ°‘æ—æŒ¯å…´", "æ–‡åŒ–ç¹è£"],
                correct: 2
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥å¯¹æ°‘æ—å¤å…´çš„ç°å®æ„ä¹‰æ˜¯ï¼Ÿ",
                options: ["å†å²ä»·å€¼", "ç°å®åŠ¨åŠ›", "æœªæ¥æ†§æ†¬", "å›½é™…å½±å“"],
                correct: 1
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥æä¾›çš„æ ¸å¿ƒæ”¯æ’‘æ˜¯ï¼Ÿ",
                options: ["èµ„é‡‘æ”¯æŒ", "æŠ€æœ¯æ”¯æ’‘", "ç²¾ç¥åŠ›é‡", "äººæ‰ä¿éšœ"],
                correct: 2
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„é€»è¾‘å…³ç³»æ˜¯ï¼Ÿ",
                options: ["å¹¶åˆ—å…³ç³»", "åŒ…å«å…³ç³»", "å› æœå…³ç³»", "ç»Ÿä¸€å…³ç³»"],
                correct: 2
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥åœ¨æ°‘æ—å¤å…´ä¸­çš„åœ°ä½æ˜¯ï¼Ÿ",
                options: ["è¾…åŠ©ä½œç”¨", "æ ¸å¿ƒä½œç”¨", "æ¬¡è¦ä½œç”¨", "æ— å…³ç´§è¦"],
                correct: 1
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦ç»§æ‰¿åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥çš„å“è´¨æ˜¯ï¼Ÿ",
                options: ["å¦¥åé€€è®©", "æ–—äº‰ç²¾ç¥", "å°é—­ä¿å®ˆ", "ä¸ªäººä¸»ä¹‰"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥å¯¹æ°‘æ—å¤å…´çš„ä»·å€¼è½¬æ¢æ˜¯ï¼Ÿ",
                options: ["å†å²è®°å¿†", "ç°å®åŠ¨åŠ›", "æœªæ¥æ†§æ†¬", "å›½é™…äº¤æµ"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„å†…åœ¨ç»Ÿä¸€æ€§ä½“ç°åœ¨ï¼Ÿ",
                options: ["ç›®æ ‡ä¸€è‡´", "è·¯å¾„ä¸€è‡´", "æ–¹æ³•ä¸€è‡´", "ç»“æœä¸€è‡´"],
                correct: 0
            },
            {
                question: "æ°‘æ—å¤å…´è¿›ç¨‹ä¸­å¯¹æŠ—æˆ˜ç²¾ç¥çš„ä¼ æ‰¿æ–¹å¼æ˜¯ï¼Ÿ",
                options: ["è¢«åŠ¨ä¼ æ‰¿", "ä¸»åŠ¨ä¼ æ‰¿", "è‡ªç„¶ä¼ æ‰¿", "å¼ºåˆ¶ä¼ æ‰¿"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸ºæ°‘æ—å¤å…´æä¾›çš„ç²¾ç¥åŠ¨åŠ›æ˜¯ï¼Ÿ",
                options: ["æš‚æ—¶çš„", "æŒä¹…çš„", "é˜¶æ®µæ€§çš„", "å±€éƒ¨çš„"],
                correct: 1
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥æä¾›çš„æ ¸å¿ƒè¦ç´ æ˜¯ï¼Ÿ",
                options: ["èµ„é‡‘", "æŠ€æœ¯", "ç²¾ç¥", "äººæ‰"],
                correct: 2
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„äº’åŠ¨å…³ç³»æ˜¯ï¼Ÿ",
                options: ["å•å‘ä½œç”¨", "åŒå‘äº’åŠ¨", "ç›¸äº’ç‹¬ç«‹", "ç›¸äº’æ’æ–¥"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥å¯¹æ°‘æ—å¤å…´çš„å¼•é¢†ä½œç”¨æ˜¯ï¼Ÿ",
                options: ["æ–¹å‘å¼•é¢†", "æ–¹æ³•å¼•é¢†", "è·¯å¾„å¼•é¢†", "ç›®æ ‡å¼•é¢†"],
                correct: 0
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥æä¾›çš„ä»·å€¼å…±è¯†æ˜¯ï¼Ÿ",
                options: ["åˆ†æ­§", "ç»Ÿä¸€", "å¯¹ç«‹", "å†²çª"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥åœ¨æ°‘æ—å¤å…´è¿›ç¨‹ä¸­çš„åŠŸèƒ½å®šä½æ˜¯ï¼Ÿ",
                options: ["è£…é¥°ä½œç”¨", "æ”¯æ’‘ä½œç”¨", "è¾…åŠ©ä½œç”¨", "æ¬¡è¦ä½œç”¨"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸ºæ°‘æ—å¤å…´æä¾›çš„æ ¸å¿ƒä»·å€¼æ˜¯ï¼Ÿ",
                options: ["ç‰©è´¨ä»·å€¼", "ç²¾ç¥ä»·å€¼", "æŠ€æœ¯ä»·å€¼", "äººæ‰ä»·å€¼"],
                correct: 1
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥æä¾›çš„ç²¾ç¥èµ„æºæ˜¯ï¼Ÿ",
                options: ["æœ‰é™çš„", "ä¸°å¯Œçš„", "å•ä¸€çš„", "è´«ä¹çš„"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥å¯¹æ°‘æ—å¤å…´çš„ç²¾ç¥æ¿€åŠ±æ˜¯ï¼Ÿ",
                options: ["çŸ­æœŸçš„", "é•¿æœŸçš„", "é˜¶æ®µæ€§çš„", "å±€éƒ¨çš„"],
                correct: 1
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥æä¾›çš„æ ¸å¿ƒåŠ¨åŠ›æ˜¯ï¼Ÿ",
                options: ["ç‰©è´¨åŠ¨åŠ›", "ç²¾ç¥åŠ¨åŠ›", "æŠ€æœ¯åŠ¨åŠ›", "äººæ‰åŠ¨åŠ›"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„ä»·å€¼ç›®æ ‡æ˜¯ï¼Ÿ",
                options: ["ç»æµå‘å±•", "ç¤¾ä¼šç¨³å®š", "æ°‘æ—æŒ¯å…´", "äººæ°‘å¹¸ç¦"],
                correct: 2
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥æä¾›çš„ç²¾ç¥æ”¯æ’‘æ˜¯ï¼Ÿ",
                options: ["æš‚æ—¶çš„", "æŒä¹…çš„", "å±€éƒ¨çš„", "è¡¨é¢çš„"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸ºæ°‘æ—å¤å…´æä¾›çš„ç²¾ç¥è´¢å¯Œæ˜¯ï¼Ÿ",
                options: ["æ–­ç»­çš„", "æŒç»­çš„", "é—´æ–­çš„", "ç»ˆæ­¢çš„"],
                correct: 1
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥æä¾›çš„ç²¾ç¥å¼•é¢†æ˜¯ï¼Ÿ",
                options: ["æ–¹å‘å¼•é¢†", "æ–¹æ³•å¼•é¢†", "è·¯å¾„å¼•é¢†", "ç›®æ ‡å¼•é¢†"],
                correct: 0
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„å®ç°è·¯å¾„æ˜¯ï¼Ÿ",
                options: ["ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰é“è·¯", "æ”¹é©å¼€æ”¾", "ä¾æ³•æ²»å›½", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥æä¾›çš„æ ¹æœ¬ä¿è¯æ˜¯ï¼Ÿ",
                options: ["å…šçš„é¢†å¯¼", "äººæ°‘å½“å®¶ä½œä¸»", "ä¾æ³•æ²»å›½", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸ºæ°‘æ—å¤å…´æä¾›çš„æ ¸å¿ƒæ”¯æ’‘æ˜¯ï¼Ÿ",
                options: ["ç»æµæ”¯æ’‘", "æ”¿æ²»æ”¯æ’‘", "ç²¾ç¥æ”¯æ’‘", "æ–‡åŒ–æ”¯æ’‘"],
                correct: 2
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥æä¾›çš„ä»·å€¼è¿½æ±‚æ˜¯ï¼Ÿ",
                options: ["å›½å®¶å¯Œå¼º", "æ°‘æ—æŒ¯å…´", "äººæ°‘å¹¸ç¦", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„å…±åŒç›®æ ‡æ˜¯ï¼Ÿ",
                options: ["ç»æµå‘å±•", "ç¤¾ä¼šç¨³å®š", "æ°‘æ—æŒ¯å…´", "äººæ°‘å¹¸ç¦"],
                correct: 2
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥æä¾›çš„ç²¾ç¥è´¢å¯Œæ˜¯ï¼Ÿ",
                options: ["ç‰©è´¨è´¢å¯Œ", "ç²¾ç¥è´¢å¯Œ", "æŠ€æœ¯è´¢å¯Œ", "äººæ‰è´¢å¯Œ"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸ºæ°‘æ—å¤å…´æä¾›çš„æ ¸å¿ƒèµ„æºæ˜¯ï¼Ÿ",
                options: ["èµ„é‡‘èµ„æº", "æŠ€æœ¯èµ„æº", "ç²¾ç¥èµ„æº", "äººæ‰èµ„æº"],
                correct: 2
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥æä¾›çš„ç²¾ç¥åŠ¨åŠ›æ˜¯ï¼Ÿ",
                options: ["æš‚æ—¶åŠ¨åŠ›", "æŒä¹…åŠ¨åŠ›", "é˜¶æ®µåŠ¨åŠ›", "å±€éƒ¨åŠ¨åŠ›"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„ä»·å€¼å…±è¯†æ˜¯ï¼Ÿ",
                options: ["ä»·å€¼åˆ†æ­§", "ä»·å€¼ç»Ÿä¸€", "ä»·å€¼å¯¹ç«‹", "ä»·å€¼å†²çª"],
                correct: 1
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥æä¾›çš„æ ¸å¿ƒå“è´¨æ˜¯ï¼Ÿ",
                options: ["åˆ›æ–°ç²¾ç¥", "æ–—äº‰ç²¾ç¥", "åˆä½œç²¾ç¥", "åŒ…å®¹ç²¾ç¥"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸ºæ°‘æ—å¤å…´æä¾›çš„ç²¾ç¥å¼•é¢†æ˜¯ï¼Ÿ",
                options: ["æ–¹å‘å¼•é¢†", "æ–¹æ³•å¼•é¢†", "è·¯å¾„å¼•é¢†", "ç›®æ ‡å¼•é¢†"],
                correct: 0
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥æä¾›çš„ä»·å€¼ç›®æ ‡æ˜¯ï¼Ÿ",
                options: ["ç»æµå‘å±•", "ç¤¾ä¼šç¨³å®š", "æ°‘æ—æŒ¯å…´", "äººæ°‘å¹¸ç¦"],
                correct: 2
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„å†…åœ¨é€»è¾‘å…³ç³»æ˜¯ï¼Ÿ",
                options: ["å†å²ä¼ æ‰¿å…³ç³»", "ç°å®äº’åŠ¨å…³ç³»", "æœªæ¥å¼•é¢†å…³ç³»", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥æä¾›çš„æ ¹æœ¬åŠ¨åŠ›æ˜¯ï¼Ÿ",
                options: ["ç‰©è´¨åŠ¨åŠ›", "ç²¾ç¥åŠ¨åŠ›", "æŠ€æœ¯åŠ¨åŠ›", "äººæ‰åŠ¨åŠ›"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸ºæ°‘æ—å¤å…´æä¾›çš„æ ¸å¿ƒæ”¯æ’‘æ˜¯ï¼Ÿ",
                options: ["ç»æµæ”¯æ’‘", "æ”¿æ²»æ”¯æ’‘", "ç²¾ç¥æ”¯æ’‘", "ç¤¾ä¼šæ”¯æ’‘"],
                correct: 2
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥æä¾›çš„ä»·å€¼è¿½æ±‚æ˜¯ï¼Ÿ",
                options: ["å›½å®¶å¯Œå¼º", "æ°‘æ—æŒ¯å…´", "äººæ°‘å¹¸ç¦", "ä»¥ä¸Šéƒ½æ˜¯"],
                correct: 3
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„ç›®æ ‡ä¸€è‡´æ€§ä½“ç°åœ¨ï¼Ÿ",
                options: ["ç»æµå‘å±•ç›®æ ‡", "ç¤¾ä¼šç¨³å®šç›®æ ‡", "æ°‘æ—æŒ¯å…´ç›®æ ‡", "æ–‡åŒ–å‘å±•ç›®æ ‡"],
                correct: 2
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥æä¾›çš„ç²¾ç¥èµ„æºæ˜¯ï¼Ÿ",
                options: ["æœ‰é™èµ„æº", "ä¸°å¯Œèµ„æº", "å•ä¸€èµ„æº", "è´«ä¹èµ„æº"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸ºæ°‘æ—å¤å…´æä¾›çš„ç²¾ç¥è´¢å¯Œä¼ æ‰¿æ˜¯ï¼Ÿ",
                options: ["æ–­ç»­ä¼ æ‰¿", "æŒç»­ä¼ æ‰¿", "é—´æ–­ä¼ æ‰¿", "ç»ˆæ­¢ä¼ æ‰¿"],
                correct: 1
            },
            {
                question: "æ°‘æ—å¤å…´éœ€è¦åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥æä¾›çš„æ ¸å¿ƒä»·å€¼æ˜¯ï¼Ÿ",
                options: ["ç‰©è´¨ä»·å€¼", "ç²¾ç¥ä»·å€¼", "æŠ€æœ¯ä»·å€¼", "äººæ‰ä»·å€¼"],
                correct: 1
            },
            {
                question: "åæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©ç²¾ç¥ä¸æ°‘æ—å¤å…´çš„äº’åŠ¨æœºåˆ¶æ˜¯ï¼Ÿ",
                options: ["å•å‘ä½œç”¨", "åŒå‘äº’åŠ¨", "ç›¸äº’ä¿ƒè¿›", "ååŒå‘å±•"],
                correct: 2
            }
        ];

        this.setupEventListeners();
        this.loadRankings();
    }

    // åŠ è½½æ¸¸æˆç»Ÿè®¡æ•°æ®
    loadGameStats() {
        const stats = localStorage.getItem('gameStats');
        return stats ? JSON.parse(stats) : { gamesPlayed: 0, totalScore: 0 };
    }

    // ä¿å­˜æ¸¸æˆç»Ÿè®¡æ•°æ®
    saveGameStats() {
        const stats = {
            gamesPlayed: this.gamesPlayed,
            totalScore: this.totalScore
        };
        localStorage.setItem('gameStats', JSON.stringify(stats));
    }

    // åŠ è½½æ’è¡Œæ¦œæ•°æ®
    loadRankings() {
        const rankings = localStorage.getItem('gameRankings');
        return rankings ? JSON.parse(rankings) : [];
    }

    // ä¿å­˜æ’è¡Œæ¦œæ•°æ®
    saveRankings(rankings) {
        localStorage.setItem('gameRankings', JSON.stringify(rankings));
    }

    // æ›´æ–°æ’è¡Œæ¦œ
    updateRankings() {
        const currentUser = localStorage.getItem('login_user') || 'æ¸¸å®¢';
        const rankings = this.loadRankings();

        // æ·»åŠ æ–°è®°å½•
        rankings.push({
            name: currentUser,
            score: this.score,
            difficulty: this.difficulty,
            timestamp: new Date().toISOString()
        });

        // æŒ‰åˆ†æ•°é™åºæ’åº
        rankings.sort((a, b) => b.score - a.score);

        // åªä¿ç•™å‰10å
        const top10 = rankings.slice(0, 10);
        this.saveRankings(top10);

        return top10;
    }

    // æ˜¾ç¤ºæ’è¡Œæ¦œ
    showRankings() {
        const panel = document.getElementById('rankings-panel');
        const list = document.getElementById('rankings-list');
        const rankings = this.loadRankings();
        const currentUser = localStorage.getItem('login_user') || 'æ¸¸å®¢';

        list.innerHTML = '';

        if (rankings.length === 0) {
            list.innerHTML = '<p style="color: #aaa; text-align: center; padding: 20px;">æš‚æ— æ’è¡Œæ¦œæ•°æ®</p>';
        } else {
            rankings.forEach((record, index) => {
                const item = document.createElement('div');
                const isCurrentPlayer = record.name === currentUser;
                let rankClass = 'ranking-item';

                if (index === 0) rankClass += ' rank-1';
                else if (index === 1) rankClass += ' rank-2';
                else if (index === 2) rankClass += ' rank-3';
                if (isCurrentPlayer) rankClass += ' current-player';

                item.className = rankClass;

                const rankIcon = index === 0 ? 'ğŸ¥‡' : index === 1 ? 'ğŸ¥ˆ' : index === 2 ? 'ğŸ¥‰' : `#${index + 1}`;
                const difficultyBadge = record.difficulty === 'easy' ? 'ç®€å•' : record.difficulty === 'normal' ? 'æ™®é€š' : 'å›°éš¾';

                item.innerHTML = `
                    <div class="rank">${rankIcon}</div>
                    <div class="player-info">
                        <div class="player-name">${record.name}${isCurrentPlayer ? ' (ä½ )' : ''}</div>
                        <div class="player-score">${record.score} åˆ†<span class="difficulty-badge">${difficultyBadge}</span></div>
                    </div>
                `;

                list.appendChild(item);
            });
        }

        panel.style.display = 'block';
    }

    // è®¾ç½®éš¾åº¦
    setDifficulty(difficulty) {
        this.difficulty = difficulty;
        const settings = this.difficultySettings[difficulty];
        this.enemySpawnRate = settings.spawnRate;
        this.maxEnemies = settings.maxEnemies;
        this.difficultyMultiplier = settings.scoreMultiplier;
    }

    // æš‚åœ/æ¢å¤æ¸¸æˆ
    togglePause() {
        this.gamePaused = !this.gamePaused;
        const pauseMenu = document.getElementById('pause-menu');

        if (this.gamePaused) {
            pauseMenu.style.display = 'flex';
        } else {
            pauseMenu.style.display = 'none';
        }
    }

    // æ¢å¤æ¸¸æˆ
    resumeGame() {
        this.gamePaused = false;
        document.getElementById('pause-menu').style.display = 'none';
    }

    // é‡æ–°å¼€å§‹æ¸¸æˆ
    restartGame() {
        this.gamePaused = false;
        document.getElementById('pause-menu').style.display = 'none';
        this.gameRunning = false;
        cancelAnimationFrame(this.animationId);
        this.stopBGM();

        // æ˜¾ç¤ºéš¾åº¦é€‰æ‹©ç•Œé¢
        document.getElementById('difficulty-screen').style.display = 'flex';
    }

    loadEnemyImage() {
        // å¦‚æœæœ‰æ•Œå†›å›¾åƒè·¯å¾„ï¼ŒåŠ è½½å›¾åƒ
        // ç”¨æˆ·å¯ä»¥å°†å›¾åƒæ–‡ä»¶æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œä¾‹å¦‚ 'enemy.png'
        const imagePath = './images/enemy.png'; // å¯ä»¥ä¿®æ”¹ä¸ºå®é™…çš„å›¾åƒè·¯å¾„

        const img = new Image();
        img.onload = () => {
            this.enemyImage = img;
            console.log('æ•Œå†›å›¾åƒåŠ è½½æˆåŠŸ');
        };
        img.onerror = () => {
            console.log('æœªæ‰¾åˆ°æ•Œå†›å›¾åƒï¼Œä½¿ç”¨é»˜è®¤ç»˜åˆ¶æ–¹å¼');
            this.enemyImage = null;
        };
        img.src = imagePath;
    }

    // åˆå§‹åŒ–éŸ³é¢‘ç³»ç»Ÿ
    initAudio() {
        // åˆ›å»ºèƒŒæ™¯éŸ³ä¹ï¼ˆä»æ’­æ”¾åˆ—è¡¨ä¸­åŠ è½½ç¬¬ä¸€é¦–ï¼‰
        this.loadBGM(0);

        // åŠ è½½çœŸå®éŸ³æ•ˆæ–‡ä»¶
        this.sounds.shoot = new Audio('./audio/å°„å‡».mp3');
        this.sounds.shoot.volume = 0.5; // å°„å‡»éŸ³é‡50%

        this.sounds.explosion = new Audio('./audio/çˆ†ç‚¸.mp3');
        this.sounds.explosion.volume = 0.6; // çˆ†ç‚¸éŸ³é‡60%

        this.sounds.damage = new Audio('./audio/å—ä¼¤.mp3');
        this.sounds.damage.volume = 0.5; // å—ä¼¤éŸ³é‡50%

        this.sounds.achievement = new Audio('./audio/æˆå°±.mp3');
        this.sounds.achievement.volume = 0.6; // æˆå°±éŸ³é‡60%

        // ä½¿ç”¨ Web Audio API ç”Ÿæˆå…¶ä»–éŸ³æ•ˆï¼ˆå‡»ä¸­ã€è¿æ€ã€æŒ‰é’®ç­‰ï¼‰
        const AudioContext = window.AudioContext || window.webkitAudioContext;
        if (AudioContext) {
            this.audioContext = new AudioContext();
        }

        console.log('éŸ³é¢‘ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ - å·²åŠ è½½4ä¸ªçœŸå®éŸ³æ•ˆæ–‡ä»¶ + ' + this.bgmPlaylist.length + 'é¦–èƒŒæ™¯éŸ³ä¹');
    }

    // åŠ è½½æŒ‡å®šç´¢å¼•çš„èƒŒæ™¯éŸ³ä¹
    loadBGM(index) {
        // åœæ­¢å½“å‰éŸ³ä¹
        if (this.sounds.bgm) {
            this.sounds.bgm.pause();
            this.sounds.bgm.removeEventListener('ended', this.handleBGMEnded);
        }

        // åŠ è½½æ–°éŸ³ä¹
        this.currentBgmIndex = index % this.bgmPlaylist.length;
        this.sounds.bgm = new Audio(this.bgmPlaylist[this.currentBgmIndex]);
        this.sounds.bgm.volume = 0.3; // èƒŒæ™¯éŸ³ä¹éŸ³é‡30%

        // ç›‘å¬éŸ³ä¹æ’­æ”¾ç»“æŸäº‹ä»¶ï¼Œè‡ªåŠ¨åˆ‡æ¢ä¸‹ä¸€é¦–
        this.handleBGMEnded = () => {
            this.playNextBGM();
        };
        this.sounds.bgm.addEventListener('ended', this.handleBGMEnded);
    }

    // æ’­æ”¾ä¸‹ä¸€é¦–èƒŒæ™¯éŸ³ä¹
    playNextBGM() {
        const nextIndex = (this.currentBgmIndex + 1) % this.bgmPlaylist.length;
        this.loadBGM(nextIndex);
        if (this.musicEnabled && this.gameRunning) {
            this.playBGM();
        }
    }

    // æ›´æ–°éŸ³ä¹ä¿¡æ¯æ˜¾ç¤º
    updateMusicInfo() {
        const musicInfo = document.getElementById('music-info');
        const musicTitle = document.getElementById('current-music-title');
        const musicCounter = document.getElementById('music-counter');

        if (musicTitle && musicCounter) {
            musicTitle.textContent = this.bgmTitles[this.currentBgmIndex];
            musicCounter.textContent = `${this.currentBgmIndex + 1}/${this.bgmPlaylist.length}`;
        }

        // æ˜¾ç¤ºéŸ³ä¹ä¿¡æ¯3ç§’åæ·¡å‡º
        if (musicInfo) {
            musicInfo.classList.add('show');
            setTimeout(() => {
                musicInfo.classList.remove('show');
            }, 3000);
        }
    }

    // æ’­æ”¾éŸ³æ•ˆ
    playSound(type, frequency = 440, duration = 0.1) {
        if (!this.soundEnabled) return;

        // ä½¿ç”¨çœŸå®éŸ³æ•ˆæ–‡ä»¶æ’­æ”¾
        if (type === 'shoot' && this.sounds.shoot) {
            // å…‹éš†éŸ³é¢‘å¯¹è±¡ä»¥æ”¯æŒå¿«é€Ÿè¿ç»­æ’­æ”¾
            const shootSound = this.sounds.shoot.cloneNode();
            shootSound.volume = 0.5;
            shootSound.play().catch(e => {
                console.log('å°„å‡»éŸ³æ•ˆæ’­æ”¾å¤±è´¥ï¼š', e.message);
            });
            return;
        }

        if (type === 'explosion' && this.sounds.explosion) {
            const explosionSound = this.sounds.explosion.cloneNode();
            explosionSound.volume = 0.6;
            explosionSound.play().catch(e => {
                console.log('çˆ†ç‚¸éŸ³æ•ˆæ’­æ”¾å¤±è´¥ï¼š', e.message);
            });
            return;
        }

        if (type === 'damage' && this.sounds.damage) {
            const damageSound = this.sounds.damage.cloneNode();
            damageSound.volume = 0.5;
            damageSound.play().catch(e => {
                console.log('å—ä¼¤éŸ³æ•ˆæ’­æ”¾å¤±è´¥ï¼š', e.message);
            });
            return;
        }

        if (type === 'achievement' && this.sounds.achievement) {
            const achievementSound = this.sounds.achievement.cloneNode();
            achievementSound.volume = 0.6;
            achievementSound.play().catch(e => {
                console.log('æˆå°±éŸ³æ•ˆæ’­æ”¾å¤±è´¥ï¼š', e.message);
            });
            return;
        }

        // å…¶ä»–éŸ³æ•ˆä½¿ç”¨ Web Audio API ç”Ÿæˆï¼ˆå‡»ä¸­ã€è¿æ€ã€æŒ‰é’®ç­‰ï¼‰
        if (!this.audioContext) return;

        const oscillator = this.audioContext.createOscillator();
        const gainNode = this.audioContext.createGain();

        oscillator.connect(gainNode);
        gainNode.connect(this.audioContext.destination);

        const now = this.audioContext.currentTime;

        switch (type) {
            case 'hit':
                oscillator.type = 'sawtooth';
                oscillator.frequency.setValueAtTime(600, now);
                oscillator.frequency.exponentialRampToValueAtTime(200, now + 0.1);
                gainNode.gain.setValueAtTime(0.4, now);
                gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.1);
                oscillator.start(now);
                oscillator.stop(now + 0.1);
                break;

            case 'combo':
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(880, now);
                gainNode.gain.setValueAtTime(0.4, now);
                gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.15);
                oscillator.start(now);
                oscillator.stop(now + 0.15);
                break;

            case 'button':
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(660, now);
                gainNode.gain.setValueAtTime(0.2, now);
                gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.1);
                oscillator.start(now);
                oscillator.stop(now + 0.1);
                break;
        }
    }

    // æ’­æ”¾èƒŒæ™¯éŸ³ä¹
    playBGM() {
        if (this.musicEnabled && this.sounds.bgm) {
            this.sounds.bgm.play().catch(e => {
                console.log('èƒŒæ™¯éŸ³ä¹æ’­æ”¾å¤±è´¥ï¼š', e.message);
            });
        }
    }

    // åœæ­¢èƒŒæ™¯éŸ³ä¹
    stopBGM() {
        if (this.sounds.bgm) {
            this.sounds.bgm.pause();
            this.sounds.bgm.currentTime = 0;
        }
    }

    // åˆ‡æ¢éŸ³æ•ˆå¼€å…³
    toggleSound() {
        this.soundEnabled = !this.soundEnabled;
        return this.soundEnabled;
    }

    // åˆ‡æ¢éŸ³ä¹å¼€å…³
    toggleMusic() {
        this.musicEnabled = !this.musicEnabled;
        if (this.musicEnabled) {
            this.playBGM();
        } else {
            this.stopBGM();
        }
        return this.musicEnabled;
    }

    resizeCanvas() {
        this.canvas.width = window.innerWidth;
        this.canvas.height = window.innerHeight;
    }

    setupEventListeners() {
        // é¼ æ ‡ç§»åŠ¨ - æ›´æ–°å‡†æ˜Ÿä½ç½®
        document.addEventListener('mousemove', (e) => {
            this.crosshair.style.left = e.clientX + 'px';
            this.crosshair.style.top = e.clientY + 'px';
        });

        // é¼ æ ‡ç‚¹å‡» - å°„å‡»
        this.canvas.addEventListener('click', (e) => {
            if (this.gameRunning && !this.gamePaused) {
                this.shoot(e.clientX, e.clientY);
            }
        });

        // ESCé”®æš‚åœ
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && this.gameRunning) {
                this.togglePause();
            }
        });

        // éš¾åº¦é€‰æ‹©
        const difficultyOptions = document.querySelectorAll('.difficulty-option');
        difficultyOptions.forEach(option => {
            option.addEventListener('click', () => {
                const difficulty = option.getAttribute('data-difficulty');
                this.setDifficulty(difficulty);
                document.getElementById('difficulty-screen').style.display = 'none';
                this.startGame();
            });
        });

        // æš‚åœèœå•æŒ‰é’®
        document.getElementById('resume-button').addEventListener('click', () => {
            this.resumeGame();
        });

        document.getElementById('restart-button').addEventListener('click', () => {
            this.restartGame();
        });

        document.getElementById('exit-button').addEventListener('click', () => {
            window.location.href = 'index.html';
        });

        // æš‚åœæŒ‰é’®
        document.getElementById('pause-button').addEventListener('click', () => {
            if (this.gameRunning) {
                this.togglePause();
            }
        });

        // æ’è¡Œæ¦œæŒ‰é’®
        document.getElementById('rankings-button').addEventListener('click', () => {
            this.playSound('button');
            this.showRankings();
        });

        document.getElementById('close-rankings').addEventListener('click', () => {
            this.playSound('button');
            document.getElementById('rankings-panel').style.display = 'none';
        });

        // å¼€å§‹æŒ‰é’® - æ˜¾ç¤ºéš¾åº¦é€‰æ‹©
        document.getElementById('start-button').addEventListener('click', () => {
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('difficulty-screen').style.display = 'flex';
        });

        // æˆå°±æŒ‰é’®
        document.getElementById('achievements-button').addEventListener('click', () => {
            this.playSound('button');
            this.showAchievementsPanel();
        });

        document.getElementById('close-achievements').addEventListener('click', () => {
            this.playSound('button');
            document.getElementById('achievements-panel').style.display = 'none';
        });

        // éŸ³æ•ˆå¼€å…³æŒ‰é’®
        const soundToggle = document.getElementById('sound-toggle');
        if (soundToggle) {
            soundToggle.addEventListener('click', () => {
                const enabled = this.toggleSound();
                soundToggle.textContent = enabled ? 'ğŸ”Š éŸ³æ•ˆ' : 'ğŸ”‡ éŸ³æ•ˆ';
                soundToggle.style.opacity = enabled ? '1' : '0.5';
            });
        }

        // éŸ³ä¹å¼€å…³æŒ‰é’®
        const musicToggle = document.getElementById('music-toggle');
        if (musicToggle) {
            musicToggle.addEventListener('click', () => {
                const enabled = this.toggleMusic();
                musicToggle.textContent = enabled ? 'ğŸµ éŸ³ä¹' : 'ğŸ”‡ éŸ³ä¹';
                musicToggle.style.opacity = enabled ? '1' : '0.5';
            });
        }
    }

    startGame() {
        this.gameRunning = true;
        this.gamePaused = false;
        this.score = 0;
        this.health = 100;
        this.enemies = [];
        this.bullets = [];
        this.particles = [];
        this.comboCount = 0;
        this.comboTimer = 0;
        this.perfectKills = 0;
        this.surviveTime = 0;
        this.eventTimeSinceStart = 0;
        this.nightMode = false;
        this.updateUI();
        this.updateComboDisplay();
        this.renderAchievementsList();
        this.gamesPlayed++;
        this.saveGameStats();

        // æ’­æ”¾èƒŒæ™¯éŸ³ä¹
        this.playBGM();
        // æ’­æ”¾æŒ‰é’®éŸ³æ•ˆ
        this.playSound('button');

        this.gameLoop();
    }

    shoot(x, y) {
        // æ’­æ”¾å°„å‡»éŸ³æ•ˆ
        this.playSound('shoot');

        // æ£€æŸ¥æ˜¯å¦å‡»ä¸­æ•Œäºº
        let hit = false;
        for (let i = this.enemies.length - 1; i >= 0; i--) {
            const enemy = this.enemies[i];
            const dx = x - enemy.x;
            const dy = y - enemy.y;
            const distance = Math.sqrt(dx * dx + dy * dy);

            if (distance < enemy.size) {
                // å‡»ä¸­æ•Œäºº
                const baseScore = 10;
                this.score += Math.floor(baseScore * this.difficultyMultiplier);
                this.totalScore += Math.floor(baseScore * this.difficultyMultiplier);
                this.comboCount++;
                this.comboTimer = 0;
                this.perfectKills++;

                // æ’­æ”¾å‡»ä¸­å’Œçˆ†ç‚¸éŸ³æ•ˆ
                this.playSound('hit');
                this.playSound('explosion');

                this.updateUI();
                this.createExplosion(enemy.x, enemy.y);
                this.enemies.splice(i, 1);
                hit = true;

                // æ£€æŸ¥è¿æ€å¥–åŠ±
                this.checkComboReward();

                // æ£€æŸ¥æˆå°±
                this.checkAchievements();

                // æ˜¾ç¤ºå†å²åè¨€
                if (Math.random() < 0.3) { // 30%æ¦‚ç‡æ˜¾ç¤º
                    this.showQuote();
                }

                break;
            }
        }

        // åˆ›å»ºå­å¼¹æ•ˆæœ
        this.createBullet(x, y, hit);
    }

    createBullet(x, y, hit) {
        this.bullets.push({
            x: x,
            y: y,
            alpha: 1,
            hit: hit
        });
    }

    createExplosion(x, y) {
        // åˆ›å»ºçˆ†ç‚¸ç²’å­æ•ˆæœ
        for (let i = 0; i < 15; i++) {
            this.particles.push({
                x: x,
                y: y,
                vx: (Math.random() - 0.5) * 8,
                vy: (Math.random() - 0.5) * 8,
                alpha: 1,
                size: Math.random() * 5 + 2,
                color: ['#ff4444', '#ff8844', '#ffaa44'][Math.floor(Math.random() * 3)]
            });
        }
    }

    spawnEnemy() {
        if (this.enemies.length >= this.maxEnemies) return;

        const side = Math.floor(Math.random() * 4); // 0=ä¸Š 1=å³ 2=ä¸‹ 3=å·¦
        let x, y;

        switch (side) {
            case 0: // ä¸Š
                x = Math.random() * this.canvas.width;
                y = -50;
                break;
            case 1: // å³
                x = this.canvas.width + 50;
                y = Math.random() * this.canvas.height;
                break;
            case 2: // ä¸‹
                x = Math.random() * this.canvas.width;
                y = this.canvas.height + 50;
                break;
            case 3: // å·¦
                x = -50;
                y = Math.random() * this.canvas.height;
                break;
        }

        // è®¾ç½®éšæœºç›®æ ‡ç‚¹ï¼Œè€Œä¸æ˜¯å›ºå®šçš„å±å¹•ä¸­å¿ƒ
        const randomTargetX = this.canvas.width * (0.3 + Math.random() * 0.4);
        const randomTargetY = this.canvas.height * (0.3 + Math.random() * 0.4);

        // æ ¹æ®éš¾åº¦è®¾ç½®æ•Œäººé€Ÿåº¦
        const settings = this.difficultySettings[this.difficulty];
        const baseSpeed = settings.enemySpeed;

        this.enemies.push({
            x: x,
            y: y,
            targetX: randomTargetX,
            targetY: randomTargetY,
            size: 30,
            speed: baseSpeed * (0.8 + Math.random() * 0.4), // æ·»åŠ ä¸€äº›éšæœºæ€§
            attackTimer: 0,
            attackInterval: 3000, // æ¯3ç§’æ”»å‡»ä¸€æ¬¡
            hasReachedTarget: false, // æ˜¯å¦å·²åˆ°è¾¾ç›®æ ‡ä½ç½®
            stopTimer: 0, // åœæ­¢åçš„è®¡æ—¶å™¨
            canAttack: false // æ˜¯å¦å¯ä»¥æ”»å‡»
        });
    }

    updateEnemies(deltaTime) {
        for (let i = this.enemies.length - 1; i >= 0; i--) {
            const enemy = this.enemies[i];

            // ç§»åŠ¨å‘ç›®æ ‡ç‚¹
            const dx = enemy.targetX - enemy.x;
            const dy = enemy.targetY - enemy.y;
            const distance = Math.sqrt(dx * dx + dy * dy);

            // åªæœ‰åœ¨è·ç¦»ç›®æ ‡ç‚¹è¾ƒè¿œæ—¶æ‰ç§»åŠ¨ï¼Œåˆ°è¾¾ååœæ­¢
            if (distance > 5) {
                enemy.x += (dx / distance) * enemy.speed;
                enemy.y += (dy / distance) * enemy.speed;
                enemy.hasReachedTarget = false;
            } else {
                // åˆ°è¾¾ç›®æ ‡ä½ç½®
                if (!enemy.hasReachedTarget) {
                    enemy.hasReachedTarget = true;
                    enemy.stopTimer = 0;
                    enemy.canAttack = false;
                }

                // åœæ­¢åå¼€å§‹è®¡æ—¶
                if (!enemy.canAttack) {
                    enemy.stopTimer += deltaTime;
                    if (enemy.stopTimer >= 3000) { // åœæ­¢3ç§’åå¯ä»¥æ”»å‡»
                        enemy.canAttack = true;
                        enemy.attackTimer = 0;
                    }
                }
            }

            // æ”»å‡»é€»è¾‘ - åªæœ‰å¯ä»¥æ”»å‡»æ—¶æ‰æ‰§è¡Œ
            if (enemy.canAttack) {
                enemy.attackTimer += deltaTime;
                if (enemy.attackTimer >= enemy.attackInterval) {
                    this.enemyAttack();
                    enemy.attackTimer = 0;
                }
            }
        }
    }

    enemyAttack() {
        if (!this.gameRunning) return;

        this.health -= 10;
        this.updateUI();

        // æ’­æ”¾å—ä¼¤éŸ³æ•ˆ
        this.playSound('damage');

        // å±å¹•é—ªçº¢æ•ˆæœ
        this.ctx.fillStyle = 'rgba(255, 0, 0, 0.3)';
        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);

        if (this.health <= 0) {
            this.health = 0;
            this.updateUI();
            this.showQuiz();
        }
    }

    showQuiz() {
        this.gameRunning = false;
        const modal = document.getElementById('quiz-modal');
        const questionEl = document.getElementById('quiz-question');
        const optionsEl = document.getElementById('quiz-options');

        // éšæœºé€‰æ‹©ä¸€ä¸ªé—®é¢˜
        const quiz = this.quizQuestions[Math.floor(Math.random() * this.quizQuestions.length)];

        questionEl.textContent = quiz.question;
        optionsEl.innerHTML = '';

        quiz.options.forEach((option, index) => {
            const button = document.createElement('button');
            button.className = 'quiz-option';
            button.textContent = option;
            button.onclick = () => this.checkAnswer(index, quiz.correct);
            optionsEl.appendChild(button);
        });

        modal.style.display = 'block';
    }

    checkAnswer(selected, correct) {
        const modal = document.getElementById('quiz-modal');

        if (selected === correct) {
            // ç­”å¯¹äº†ï¼Œæ¢å¤ç”Ÿå‘½å€¼
            this.health = 100;
            this.updateUI();
            modal.style.display = 'none';
            this.gameRunning = true;
            alert('å›ç­”æ­£ç¡®ï¼ç”Ÿå‘½å€¼å·²æ¢å¤ï¼');
        } else {
            // ç­”é”™äº†ï¼Œæ¸¸æˆç»“æŸ
            modal.style.display = 'none';
            this.gameOver();
        }
    }

    gameOver() {
        this.gameRunning = false;
        cancelAnimationFrame(this.animationId);

        // åœæ­¢èƒŒæ™¯éŸ³ä¹
        this.stopBGM();

        // æ›´æ–°æ’è¡Œæ¦œ
        this.updateRankings();
        this.saveGameStats();

        const gameOverScreen = document.getElementById('game-over-screen');
        const finalScore = document.getElementById('final-score');

        finalScore.textContent = `æœ€ç»ˆå¾—åˆ†: ${this.score} (éš¾åº¦: ${this.difficulty === 'easy' ? 'ç®€å•' : this.difficulty === 'normal' ? 'æ™®é€š' : 'å›°éš¾'})`;
        gameOverScreen.style.display = 'flex';
    }

    updateUI() {
        document.getElementById('score').textContent = this.score;
        document.getElementById('health').textContent = this.health;
    }

    updateComboDisplay() {
        const comboCounter = document.getElementById('combo-counter');
        const comboCount = document.getElementById('combo-count');

        if (this.comboCount > 0) {
            comboCounter.style.display = 'block';
            comboCount.textContent = this.comboCount;
        } else {
            comboCounter.style.display = 'none';
        }
    }

    checkComboReward() {
        let comboMessage = '';
        let bonusScore = 0;

        if (this.comboCount === 3) {
            comboMessage = 'ğŸ¯ ç²¾å‡†å°„å‡»ï¼';
            bonusScore = 5;
            this.playSound('combo');
        } else if (this.comboCount === 5) {
            comboMessage = 'ğŸ¹ ç™¾æ­¥ç©¿æ¨ï¼';
            bonusScore = 10;
            this.playSound('combo');
        } else if (this.comboCount === 10) {
            comboMessage = 'ğŸ”« ç¥æªæ‰‹ï¼å…¨å±æ¸…æ•Œï¼';
            bonusScore = 20;
            this.playSound('combo');
            // å…¨å±æ¸…é™¤æ•Œäºº
            this.enemies.forEach(enemy => {
                this.createExplosion(enemy.x, enemy.y);
                this.playSound('explosion');
            });
            this.enemies = [];
        } else if (this.comboCount === 15) {
            comboMessage = 'â­ æ— åŒæˆ˜ç¥ï¼';
            bonusScore = 30;
            this.playSound('combo');
        } else if (this.comboCount === 20) {
            comboMessage = 'ğŸ† æŠ—æˆ˜ä¼ å¥‡ï¼';
            bonusScore = 50;
            this.playSound('combo');
        }

        if (comboMessage) {
            this.score += bonusScore;
            this.showComboMessage(comboMessage);
            this.updateUI();
        }

        this.updateComboDisplay();
    }

    showComboMessage(message) {
        const comboDisplay = document.getElementById('combo-display');
        comboDisplay.textContent = message;
        comboDisplay.style.animation = 'none';
        setTimeout(() => {
            comboDisplay.style.animation = 'comboFade 2s ease-out';
        }, 10);
    }

    showQuote() {
        const quoteDisplay = document.getElementById('quote-display');
        const randomQuote = this.historicalQuotes[Math.floor(Math.random() * this.historicalQuotes.length)];

        quoteDisplay.textContent = randomQuote;
        quoteDisplay.classList.add('show');

        setTimeout(() => {
            quoteDisplay.classList.remove('show');
        }, 3000);
    }

    checkAchievements() {
        // é¦–æ€
        if (!this.achievements.firstKill.unlocked && this.score >= 10) {
            this.unlockAchievement('firstKill');
        }

        // åˆ†æ•°æˆå°±
        if (!this.achievements.score50.unlocked && this.score >= 50) {
            this.unlockAchievement('score50');
        }
        if (!this.achievements.score100.unlocked && this.score >= 100) {
            this.unlockAchievement('score100');
        }
        if (!this.achievements.score200.unlocked && this.score >= 200) {
            this.unlockAchievement('score200');
        }

        // è¿æ€æˆå°±
        if (!this.achievements.combo3.unlocked && this.comboCount >= 3) {
            this.unlockAchievement('combo3');
        }
        if (!this.achievements.combo5.unlocked && this.comboCount >= 5) {
            this.unlockAchievement('combo5');
        }
        if (!this.achievements.combo10.unlocked && this.comboCount >= 10) {
            this.unlockAchievement('combo10');
        }

        // å®Œç¾é˜²å®ˆ
        if (!this.achievements.perfectDefense.unlocked && this.perfectKills >= 20) {
            this.unlockAchievement('perfectDefense');
        }
    }

    unlockAchievement(key) {
        if (this.achievements[key].unlocked) return;

        this.achievements[key].unlocked = true;
        const achievement = this.achievements[key];

        // æ’­æ”¾æˆå°±éŸ³æ•ˆ
        this.playSound('achievement');

        // æ˜¾ç¤ºæˆå°±å¼¹çª—
        document.getElementById('achievement-icon').textContent = achievement.icon;
        document.getElementById('achievement-title').textContent = achievement.title;
        document.getElementById('achievement-desc').textContent = achievement.desc;

        const popup = document.getElementById('achievement-popup');
        popup.classList.add('show');

        setTimeout(() => {
            popup.classList.remove('show');
        }, 3000);

        // æ›´æ–°æˆå°±åˆ—è¡¨
        this.renderAchievementsList();
    }

    showAchievementsPanel() {
        document.getElementById('achievements-panel').style.display = 'block';
    }

    renderAchievementsList() {
        const list = document.getElementById('achievements-list');
        list.innerHTML = '';

        for (let key in this.achievements) {
            const ach = this.achievements[key];
            const item = document.createElement('div');
            item.className = 'achievement-item' + (ach.unlocked ? ' unlocked' : '');

            item.innerHTML = `
                <div class="icon">${ach.icon}</div>
                <div class="info">
                    <div class="title">${ach.title}</div>
                    <div class="desc">${ach.desc}${ach.unlocked ? ' - âœ… å·²è§£é”' : ' - â³ æœªè§£é”'}</div>
                </div>
            `;

            list.appendChild(item);
        }
    }

    triggerEvent() {
        if (this.eventActive) return;

        const event = this.events[Math.floor(Math.random() * this.events.length)];
        this.eventActive = true;
        this.eventDuration = event.duration;
        this.eventTimer = 0;

        // æ˜¾ç¤ºäº‹ä»¶é€šçŸ¥
        document.getElementById('event-title').textContent = 'ğŸš¨ ' + event.name;
        document.getElementById('event-desc').textContent = event.desc;
        const notification = document.getElementById('event-notification');
        notification.style.display = 'block';

        setTimeout(() => {
            notification.style.display = 'none';
        }, 3000);

        // æ‰§è¡Œäº‹ä»¶æ•ˆæœ
        event.effect();
    }

    endEvent() {
        this.eventActive = false;
        this.maxEnemies = 3;
        this.enemySpawnRate = Math.max(800, 3000 - this.score * 5);
        this.nightMode = false;

        // æ¢å¤æ•Œäººé€Ÿåº¦
        this.enemies.forEach(e => {
            if (e.speed > 0.5) e.speed = 0.2 + Math.random() * 0.2;
        });

        // è§£é”æˆå°±
        if (!this.achievements.eventSurvivor.unlocked) {
            this.unlockAchievement('eventSurvivor');
        }

        // è®¾ç½®ä¸‹ä¸€æ¬¡äº‹ä»¶æ—¶é—´
        this.nextEventTime = this.eventTimeSinceStart + 60000 + Math.random() * 30000;
    }

    update(deltaTime) {
        if (!this.gameRunning || this.gamePaused) return;

        // æ›´æ–°å­˜æ´»æ—¶é—´
        this.surviveTime += deltaTime;
        this.eventTimeSinceStart += deltaTime;

        // æ£€æŸ¥å­˜æ´»æˆå°±
        if (!this.achievements.survive3min.unlocked && this.surviveTime >= 180000) {
            this.unlockAchievement('survive3min');
        }
        if (!this.achievements.survive5min.unlocked && this.surviveTime >= 300000) {
            this.unlockAchievement('survive5min');
        }

        // è¿æ€è®¡æ—¶å™¨
        if (this.comboCount > 0) {
            this.comboTimer += deltaTime;
            if (this.comboTimer >= this.comboTimeout) {
                this.comboCount = 0;
                this.updateComboDisplay();
            }
        }

        // å†å²äº‹ä»¶ç³»ç»Ÿ
        if (this.eventActive) {
            this.eventTimer += deltaTime;
            if (this.eventTimer >= this.eventDuration) {
                this.endEvent();
            }
        } else {
            // æ£€æŸ¥æ˜¯å¦è¯¥è§¦å‘æ–°äº‹ä»¶
            if (this.eventTimeSinceStart >= this.nextEventTime) {
                this.triggerEvent();
            }
        }

        // ç”Ÿæˆæ•Œäºº
        this.lastSpawnTime += deltaTime;
        if (this.lastSpawnTime >= this.enemySpawnRate) {
            this.spawnEnemy();
            this.lastSpawnTime = 0;

            // éšç€æ—¶é—´æ¨è¿›ï¼ŒåŠ å¿«ç”Ÿæˆé€Ÿåº¦ï¼ˆé™¤éåœ¨äº‹ä»¶ä¸­ï¼‰
            if (!this.eventActive && this.enemySpawnRate > 800) {
                this.enemySpawnRate -= 50;
            }
        }

        // æ›´æ–°æ•Œäºº
        this.updateEnemies(deltaTime);

        // æ›´æ–°ç²’å­
        for (let i = this.particles.length - 1; i >= 0; i--) {
            const p = this.particles[i];
            p.x += p.vx;
            p.y += p.vy;
            p.alpha -= 0.02;
            p.vy += 0.2; // é‡åŠ›

            if (p.alpha <= 0) {
                this.particles.splice(i, 1);
            }
        }

        // æ›´æ–°å­å¼¹æ•ˆæœ
        for (let i = this.bullets.length - 1; i >= 0; i--) {
            this.bullets[i].alpha -= 0.05;
            if (this.bullets[i].alpha <= 0) {
                this.bullets.splice(i, 1);
            }
        }
    }

    draw() {
        // æ¸…ç©ºç”»å¸ƒ
        this.ctx.fillStyle = 'rgba(15, 52, 96, 0.3)';
        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);

        // å¤œé—´æ¨¡å¼æ•ˆæœ
        if (this.nightMode) {
            this.ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
            this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
        }

        // ç»˜åˆ¶èƒŒæ™¯æ˜Ÿæ˜Ÿ
        this.drawStars();

        // ç»˜åˆ¶æ•Œäºº
        this.enemies.forEach(enemy => this.drawEnemy(enemy));

        // ç»˜åˆ¶ç²’å­
        this.particles.forEach(p => {
            this.ctx.fillStyle = p.color;
            this.ctx.globalAlpha = p.alpha;
            this.ctx.fillRect(p.x, p.y, p.size, p.size);
        });
        this.ctx.globalAlpha = 1;

        // ç»˜åˆ¶å­å¼¹æ•ˆæœ
        this.bullets.forEach(bullet => {
            this.ctx.fillStyle = bullet.hit ? '#00ff00' : '#ffffff';
            this.ctx.globalAlpha = bullet.alpha;
            this.ctx.beginPath();
            this.ctx.arc(bullet.x, bullet.y, 3, 0, Math.PI * 2);
            this.ctx.fill();
        });
        this.ctx.globalAlpha = 1;
    }

    drawStars() {
        this.ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
        for (let i = 0; i < 50; i++) {
            const x = (i * 137.5) % this.canvas.width;
            const y = (i * 217.3) % this.canvas.height;
            this.ctx.fillRect(x, y, 2, 2);
        }
    }

    drawEnemy(enemy) {
        this.ctx.save();
        this.ctx.translate(enemy.x, enemy.y);

        // å¦‚æœæœ‰è‡ªå®šä¹‰å›¾åƒï¼Œä½¿ç”¨å›¾åƒç»˜åˆ¶
        if (this.enemyImage && this.enemyImage.complete) {
            this.ctx.drawImage(
                this.enemyImage, -enemy.size, -enemy.size,
                enemy.size * 2,
                enemy.size * 2
            );
        } else {
            // å¦åˆ™ä½¿ç”¨é»˜è®¤çš„åœ†å½¢ç»˜åˆ¶æ–¹å¼
            // ç»˜åˆ¶æ—¥æœ¬å†›æ——æ ·å¼ï¼ˆçº¢è‰²åœ†åœˆï¼‰
            this.ctx.fillStyle = '#cc0000';
            this.ctx.beginPath();
            this.ctx.arc(0, 0, enemy.size, 0, Math.PI * 2);
            this.ctx.fill();

            // ç™½è‰²è¾¹æ¡†
            this.ctx.strokeStyle = '#ffffff';
            this.ctx.lineWidth = 3;
            this.ctx.stroke();

            // å†…éƒ¨ç™½è‰²åœ†
            this.ctx.fillStyle = '#ffffff';
            this.ctx.beginPath();
            this.ctx.arc(0, 0, enemy.size * 0.7, 0, Math.PI * 2);
            this.ctx.fill();

            // çº¢è‰²ä¸­å¿ƒç‚¹
            this.ctx.fillStyle = '#cc0000';
            this.ctx.beginPath();
            this.ctx.arc(0, 0, enemy.size * 0.3, 0, Math.PI * 2);
            this.ctx.fill();

            // ç»˜åˆ¶å¸½å­ï¼ˆå†›å¸½ï¼‰
            this.ctx.fillStyle = '#4a5a3a';
            this.ctx.beginPath();
            this.ctx.arc(0, -enemy.size * 0.6, enemy.size * 0.4, 0, Math.PI * 2);
            this.ctx.fill();
        }

        this.ctx.restore();
    }

    gameLoop(timestamp = 0) {
        const deltaTime = timestamp - (this.lastTime || timestamp);
        this.lastTime = timestamp;

        this.update(deltaTime);
        this.draw();

        this.animationId = requestAnimationFrame((t) => this.gameLoop(t));
    }
}

// åˆå§‹åŒ–æ¸¸æˆ
let game;
window.addEventListener('load', () => {
    game = new ShootingGame();

    // å¯¼å‡ºé¢˜åº“ç»™challenge.jsä½¿ç”¨
    if (game && game.quizQuestions) {
        window.gameQuestions = game.quizQuestions;
        console.log(`å·²å¯¼å‡º ${game.quizQuestions.length} é“é¢˜ç›®ç»™äº’åŠ¨å­¦ä¹ ä¸­å¿ƒ`);
    }
});