# 网站管理脚本使用指南

## 📋 概述

**网站管理.bat** 是本项目的简化版服务管理工具，提供交互式菜单界面，让您无需记忆复杂命令即可轻松管理网站服务。

---

## ⚡ 核心功能

### 1. 启动服务
- **功能说明**：一键启动 Node.js 后端服务器
- **默认端口**：3000
- **自动执行**：
  - ✅ 检查 Node.js 环境
  - ✅ 验证项目文件完整性
  - ✅ 在新窗口启动服务器
  - ✅ 自动打开浏览器

### 2. 停止服务
- **功能说明**：一键停止所有运行中的 Node.js 进程
- **执行操作**：
  - ✅ 自动查找 Node.js 进程
  - ✅ 强制终止所有相关进程
  - ✅ 显示操作结果

### 3. 查看状态
- **功能说明**：全面检查系统和服务状态
- **检查项目**：
  - 🔍 Node.js 环境（是否安装及版本）
  - 🔍 服务进程状态（是否运行中）
  - 🔍 端口占用情况（3000端口）
  - 🔍 项目目录检查（server目录、package.json）

### 4. 退出程序
- **功能说明**：安全退出管理工具
- **友好提示**：3秒倒计时后关闭

---

## 🚀 快速开始

### 方法一：双击运行（推荐）

1. 找到项目根目录下的 `网站管理.bat`
2. 双击运行脚本
3. 等待 2 秒初始化
4. 看到主菜单界面

### 方法二：命令行运行

```batch
cd "你的项目路径"
网站管理.bat
```

---

## 📖 详细使用步骤

### 🎯 启动网站服务

**操作流程：**

1. 双击运行 `网站管理.bat`
2. 在菜单中输入 `1`，按回车
3. 等待环境检查完成
4. 服务在新窗口启动
5. 浏览器自动打开 `http://localhost:3000`

**预期输出：**

```
----------------------------------------
正在启动服务...
----------------------------------------

正在检查Node.js环境...
v22.14.0
Node.js 检查通过！

启动服务器...

[成功] 服务已在新窗口启动

服务地址: http://localhost:3000
```

**注意事项：**
- ⚠️ 不要关闭新打开的服务器窗口
- ⚠️ 首次运行可能需要安装依赖（需要网络）
- ⚠️ 确保 3000 端口未被占用

---

### 🛑 停止网站服务

**操作流程：**

1. 在主菜单中输入 `2`，按回车
2. 脚本自动查找并终止 Node.js 进程
3. 显示停止结果
4. 按任意键返回主菜单

**预期输出：**

```
----------------------------------------
正在停止服务...
----------------------------------------

找到Node.js进程
正在终止...

[成功] 已停止所有Node.js进程
```

**注意事项：**
- ⚠️ 会终止所有 Node.js 进程（包括其他Node.js应用）
- ⚠️ 如遇权限问题，请以管理员身份运行

---

### 🔍 查看系统状态

**操作流程：**

1. 在主菜单中输入 `3`，按回车
2. 查看 4 项检查结果
3. 按任意键返回主菜单

**预期输出：**

```
----------------------------------------
系统状态检查
----------------------------------------

[1] Node.js 环境检查:
    状态: 已安装
    v22.14.0

[2] 服务进程状态:
    状态: 运行中

[3] 端口占用检查:
    端口3000: 已占用 (服务可能在运行)

[4] 项目目录检查:
    server目录: 存在
    package.json: 存在
```

**状态解读：**
- ✅ **已安装/存在/运行中** - 正常
- ❌ **未安装/不存在/未运行** - 需要处理

---

## 🎨 界面说明

### 启动界面

```
============================================
     网站服务管理工具
============================================

脚本已启动，正在初始化...
```

### 主菜单界面

```
============================================
     网站服务管理工具
============================================

 请选择操作：

 [1] 启动服务
 [2] 停止服务
 [3] 查看状态
 [0] 退出

============================================

请输入选项 (0-3): _
```

---

## 🛠️ 常见问题

### Q1: 脚本双击后闪退怎么办？

**解决方案：**
1. 右键脚本 → "以管理员身份运行"
2. 检查文件名是否包含特殊字符
3. 在命令提示符中手动运行查看错误

### Q2: 提示"未检测到Node.js"？

**解决方案：**
1. 访问 https://nodejs.org/ 下载安装 Node.js
2. 安装后重启命令提示符
3. 运行 `node --version` 验证安装

### Q3: 启动服务后浏览器打不开？

**可能原因：**
- 端口被占用
- 防火墙拦截
- 服务启动失败

**解决方案：**
1. 使用"查看状态"功能检查
2. 查看服务器窗口的错误信息
3. 确认防火墙设置

### Q4: 如何更改服务端口？

**方法：**
- 当前简化版脚本使用固定端口 3000
- 如需修改端口，可使用完整版 `网站管理脚本.bat`（提供端口修改功能）

### Q5: 停止服务会影响其他程序吗？

**注意：**
- 会终止所有 Node.js 进程
- 如有其他 Node.js 应用，也会被关闭
- 建议使用完整版脚本获得更精确的控制

---

## 💡 使用建议

### ✅ 推荐做法

1. **日常开发**
   - 启动时使用"启动服务"
   - 开发完成后使用"停止服务"
   - 保持脚本窗口打开方便多次操作

2. **环境检查**
   - 首次使用前运行"查看状态"
   - 遇到问题时优先检查状态
   - 定期检查确保环境正常

3. **团队协作**
   - 统一使用此脚本管理服务
   - 避免手动启动导致端口冲突

### ⚠️ 注意事项

1. **环境要求**
   - Node.js 版本 >= 16
   - Windows 操作系统
   - 需要网络连接（首次安装依赖）

2. **权限问题**
   - 某些操作可能需要管理员权限
   - 遇到权限错误时以管理员身份运行

3. **服务窗口**
   - 启动后不要关闭服务器窗口
   - 关闭窗口会导致网站无法访问
   - 使用脚本的"停止服务"功能正常关闭

---

## 🆚 脚本对比

| 脚本名称 | 功能 | 特点 | 适用场景 |
|---------|------|------|---------|
| `网站管理.bat` | 基础管理 | 简单易用，菜单清晰 | ⭐ 日常开发使用 |
| `启动脚本.bat` | 仅启动 | 双击直接启动 | 快速启动 |
| `停止脚本.bat` | 仅停止 | 双击直接停止 | 快速停止 |
| `网站管理脚本.bat` | 完整管理 | 功能全面（含重启、端口修改等） | 高级使用 |

**推荐：** 日常使用 `网站管理.bat`，操作简单且功能够用！

---

## 🎓 典型使用场景

### 场景一：开始一天的开发工作

```
1. 双击 网站管理.bat
2. 输入 1 → 启动服务
3. 开始编写代码
4. 完成后输入 2 → 停止服务
5. 输入 0 → 退出脚本
```

### 场景二：排查环境问题

```
1. 运行脚本
2. 输入 3 → 查看状态
3. 检查哪项显示异常
4. 根据提示解决问题
```

### 场景三：多次测试调试

```
1. 运行脚本（保持窗口）
2. 输入 1 → 启动测试
3. 测试完成后输入 2 → 停止
4. 修改代码
5. 重复步骤 2-4
6. 完成后输入 0 → 退出
```

---

## 📞 技术支持

### 脚本特性

- ✨ **防闪退设计**：启动延迟、完善错误处理
- ✨ **用户友好**：清晰提示、详细反馈
- ✨ **安全可靠**：操作前验证、自动恢复目录

### 升级建议

如需更多功能，可使用完整版 `网站管理脚本.bat`：
- 🔧 服务重启功能
- 🔧 端口修改功能
- 🔧 更详细的状态信息
- 🔧 依赖自动安装

---

## 📝 版本信息

- **当前版本**：v2.0 简化版
- **发布日期**：2025-11
- **适用系统**：Windows 10/11
- **Node.js要求**：>= 16.0.0

---

## 📄 许可说明

本脚本为项目配套工具，仅供团队内部使用。

---

**使用愉快！如有问题请查看常见问题部分或联系技术支持。** 🎉
